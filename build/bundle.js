var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function a(){return Object.create(null)}function r(e){e.forEach(n)}function o(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}const l="undefined"!=typeof window;let u=l?()=>window.performance.now():()=>Date.now(),c=l?e=>requestAnimationFrame(e):e;const d=new Set;function h(e){d.forEach((t=>{t.c(e)||(d.delete(t),t.f())})),0!==d.size&&c(h)}function p(e,t){e.appendChild(t)}function f(e,t,n){e.insertBefore(t,n||null)}function v(e){e.parentNode.removeChild(e)}function m(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function g(e){return document.createElement(e)}function y(e){return document.createTextNode(e)}function b(){return y(" ")}function w(){return y("")}function x(e,t,n,a){return e.addEventListener(t,n,a),()=>e.removeEventListener(t,n,a)}function k(e){return function(t){return t.preventDefault(),e.call(this,t)}}function A(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function C(e){return""===e?null:+e}function O(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function S(e,t){e.value=null==t?"":t}function T(e,t){for(let n=0;n<e.options.length;n+=1){const a=e.options[n];if(a.__value===t)return void(a.selected=!0)}}function P(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}class M{constructor(e=null){this.a=e,this.e=this.n=null}m(e,t,n=null){this.e||(this.e=g(t.nodeName),this.t=t,this.h(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)f(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(v)}}const N=new Set;let D,L=0;function E(e,t,n,a,i,r,o,s=0){const l=16.666/a;let u="{\n";for(let e=0;e<=1;e+=l){const a=t+(n-t)*r(e);u+=100*e+`%{${o(a,1-a)}}\n`}const c=u+`100% {${o(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(c)}_${s}`,h=e.ownerDocument;N.add(h);const p=h.__svelte_stylesheet||(h.__svelte_stylesheet=h.head.appendChild(g("style")).sheet),f=h.__svelte_rules||(h.__svelte_rules={});f[d]||(f[d]=!0,p.insertRule(`@keyframes ${d} ${c}`,p.cssRules.length));const v=e.style.animation||"";return e.style.animation=`${v?`${v}, `:""}${d} ${a}ms linear ${i}ms 1 both`,L+=1,d}function _(e,t){const n=(e.style.animation||"").split(", "),a=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-a.length;i&&(e.style.animation=a.join(", "),L-=i,L||c((()=>{L||(N.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),N.clear())})))}function $(e){D=e}function F(){if(!D)throw new Error("Function called outside component initialization");return D}const j=[],I=[],z=[],W=[],R=Promise.resolve();let H=!1;function B(e){z.push(e)}function Y(e){W.push(e)}let V=!1;const q=new Set;function G(){if(!V){V=!0;do{for(let e=0;e<j.length;e+=1){const t=j[e];$(t),U(t.$$)}for($(null),j.length=0;I.length;)I.pop()();for(let e=0;e<z.length;e+=1){const t=z[e];q.has(t)||(q.add(t),t())}z.length=0}while(j.length);for(;W.length;)W.pop()();H=!1,V=!1,q.clear()}}function U(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(B)}}let J;function X(e,t,n){e.dispatchEvent(function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(`${t?"intro":"outro"}${n}`))}const K=new Set;let Z;function Q(e,t){e&&e.i&&(K.delete(e),e.i(t))}function ee(e,t,n,a){if(e&&e.o){if(K.has(e))return;K.add(e),Z.c.push((()=>{K.delete(e),a&&(n&&e.d(1),a())})),e.o(t)}}const te={duration:0};function ne(n,a,i,s){let l=a(n,i),p=s?0:1,f=null,v=null,m=null;function g(){m&&_(n,m)}function y(e,t){const n=e.b-p;return t*=Math.abs(n),{a:p,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function b(a){const{delay:i=0,duration:o=300,easing:s=t,tick:b=e,css:w}=l||te,x={start:u()+i,b:a};a||(x.group=Z,Z.r+=1),f||v?v=x:(w&&(g(),m=E(n,p,a,o,i,s,w)),a&&b(0,1),f=y(x,o),B((()=>X(n,a,"start"))),function(e){let t;0===d.size&&c(h),new Promise((n=>{d.add(t={c:e,f:n})}))}((e=>{if(v&&e>v.start&&(f=y(v,o),v=null,X(n,f.b,"start"),w&&(g(),m=E(n,p,f.b,f.duration,0,s,l.css))),f)if(e>=f.end)b(p=f.b,1-p),X(n,f.b,"end"),v||(f.b?g():--f.group.r||r(f.group.c)),f=null;else if(e>=f.start){const t=e-f.start;p=f.a+f.d*s(t/f.duration),b(p,1-p)}return!(!f&&!v)})))}return{run(e){o(l)?(J||(J=Promise.resolve(),J.then((()=>{J=null}))),J).then((()=>{l=l(),b(e)})):b(e)},end(){g(),f=v=null}}}function ae(e,t,n){const a=e.$$.props[t];void 0!==a&&(e.$$.bound[a]=n,n(e.$$.ctx[a]))}function ie(e){e&&e.c()}function re(e,t,a){const{fragment:i,on_mount:s,on_destroy:l,after_update:u}=e.$$;i&&i.m(t,a),B((()=>{const t=s.map(n).filter(o);l?l.push(...t):r(t),e.$$.on_mount=[]})),u.forEach(B)}function oe(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function se(e,t){-1===e.$$.dirty[0]&&(j.push(e),H||(H=!0,R.then(G)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function le(t,n,i,o,s,l,u=[-1]){const c=D;$(t);const d=n.props||{},h=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:s,bound:a(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:a(),dirty:u,skip_bound:!1};let p=!1;if(h.ctx=i?i(t,d,((e,n,...a)=>{const i=a.length?a[0]:n;return h.ctx&&s(h.ctx[e],h.ctx[e]=i)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](i),p&&se(t,e)),n})):[],h.update(),p=!0,r(h.before_update),h.fragment=!!o&&o(h.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);h.fragment&&h.fragment.l(e),e.forEach(v)}else h.fragment&&h.fragment.c();n.intro&&Q(t.$$.fragment),re(t,n.target,n.anchor),G()}$(c)}class ue{$destroy(){oe(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function ce(t){let n,a,i,o,s,l,u,c,d,h,m,w,k,O,T,P;return{c(){n=g("div"),a=g("div"),a.innerHTML="<b>Distance Converter</b>",i=b(),o=g("div"),s=y("Tiles "),l=g("input"),u=b(),c=g("div"),d=y("Feet  "),h=g("input"),m=b(),w=g("div"),k=y("Meter "),O=g("input"),A(l,"type","number"),A(o,"class","input-holder svelte-rs34mk"),A(h,"type","number"),A(c,"class","input-holder svelte-rs34mk"),A(O,"type","number"),A(w,"class","input-holder svelte-rs34mk"),A(n,"class","card svelte-rs34mk")},m(e,r){f(e,n,r),p(n,a),p(n,i),p(n,o),p(o,s),p(o,l),S(l,t[0]),p(n,u),p(n,c),p(c,d),p(c,h),S(h,t[1]),p(n,m),p(n,w),p(w,k),p(w,O),S(O,t[2]),T||(P=[x(l,"input",t[6]),x(l,"input",t[3]),x(h,"input",t[7]),x(h,"input",t[4]),x(O,"input",t[8]),x(O,"input",t[5])],T=!0)},p(e,[t]){1&t&&C(l.value)!==e[0]&&S(l,e[0]),2&t&&C(h.value)!==e[1]&&S(h,e[1]),4&t&&C(O.value)!==e[2]&&S(O,e[2])},i:e,o:e,d(e){e&&v(n),T=!1,r(P)}}}function de(e,t,n){let a=1,i=5,r=1.5;return[a,i,r,function(){n(1,i=5*a),n(2,r=1.5*a)},function(){n(0,a=i/5),n(2,r=1.5*a)},function(){n(0,a=r/1.5),n(1,i=5*a)},function(){a=C(this.value),n(0,a)},function(){i=C(this.value),n(1,i)},function(){r=C(this.value),n(2,r)}]}class he extends ue{constructor(e){super(),le(this,e,de,ce,s,{})}}class pe{constructor(e,t){this.max=t,this.count=e}roll(){let e=0;for(let t=0;t<this.count;t++)e+=Math.floor(Math.random()*this.max)+1;return e}avgRoll(){return(this.max+1)/2*this.count}minRoll(){return this.count}maxRoll(){return this.max*this.count}rollType(e){return 0==e?this.minRoll():2==e?this.maxRoll():this.avgRoll()}getCount(){return this.count}getMax(){return this.max}}var fe,ve,me=(function(e,t){function n(e,t){return"string"==typeof e?(t||document).querySelector(e):e||null}function a(e){var t=e.getBoundingClientRect();return{top:t.top+(document.documentElement.scrollTop||document.body.scrollTop),left:t.left+(document.documentElement.scrollLeft||document.body.scrollLeft)}}function i(e){return null===e.offsetParent}function r(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function o(e){return e.titleHeight+e.margins.top+e.paddings.top}function s(e){return e.margins.left+e.paddings.left}function l(e){return e.margins.top+e.margins.bottom+e.paddings.top+e.paddings.bottom+e.titleHeight+e.legendHeight}function u(e){return e.margins.left+e.margins.right+e.paddings.left+e.paddings.right}function c(e){return parseFloat(e.toFixed(2))}function d(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n||(n=a?e[0]:e[e.length-1]);var i=new Array(Math.abs(t)).fill(n);return a?i.concat(e):e.concat(i)}function h(e,t){return(e+"").length*t}function p(e,t){return{x:Math.sin(e*ge)*t,y:Math.cos(e*ge)*t}}function f(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(Number.isNaN(e)||void 0===e||!Number.isFinite(e)||t&&e<0)}function v(e,t){var n=void 0,a=void 0;return e<=t?(n=t-e,a=e):(n=e-t,a=t),[n,a]}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length-e.length;return n>0?e=d(e,n):t=d(t,n),[e,t]}function g(e,t){if(e)return e.length>t?e.slice(0,t-3)+"...":e}function y(e){var t=void 0;if("number"==typeof e)t=e;else if("string"==typeof e&&(t=Number(e),Number.isNaN(t)))return e;var n=Math.floor(Math.log10(Math.abs(t)));if(n<=2)return t;var a=Math.floor(n/3),i=Math.pow(10,n-3*a)*+(t/Math.pow(10,n)).toFixed(1);return Math.round(100*i)/100+" "+["","K","M","B","T"][a]}function b(e,t){for(var n=[],a=0;a<e.length;a++)n.push([e[a],t[a]]);var i=function(e,t,n,a){var i=function(e,t){var n=t[0]-e[0],a=t[1]-e[1];return{length:Math.sqrt(Math.pow(n,2)+Math.pow(a,2)),angle:Math.atan2(a,n)}}(t||e,n||e),r=i.angle+(a?Math.PI:0),o=.2*i.length;return[e[0]+Math.cos(r)*o,e[1]+Math.sin(r)*o]};return function(e,t){return e.reduce((function(e,t,n,a){return 0===n?t[0]+","+t[1]:e+" "+function(e,t,n){var a=i(n[t-1],n[t-2],e),r=i(e,n[t-1],n[t+1],!0);return"C "+a[0]+","+a[1]+" "+r[0]+","+r[1]+" "+e[0]+","+e[1]}(t,n,a)}),"")}(n)}function w(e){return e>255?255:e<0?0:e}function x(e,t){var n=xe(e),a=!1;"#"==n[0]&&(n=n.slice(1),a=!0);var i=parseInt(n,16),r=w((i>>16)+t),o=w((i>>8&255)+t);return(a?"#":"")+(w((255&i)+t)|o<<8|r<<16).toString(16)}function k(e,t){return"string"==typeof e?(t||document).querySelector(e):e||null}function A(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);for(var a in t){var i=t[a];if("inside"===a)k(i).appendChild(n);else if("around"===a){var r=k(i);r.parentNode.insertBefore(n,r),n.appendChild(r)}else"styles"===a?"object"===(void 0===i?"undefined":Ae(i))&&Object.keys(i).map((function(e){n.style[e]=i[e]})):("className"===a&&(a="class"),"innerHTML"===a?n.textContent=i:n.setAttribute(a,i))}return n}function C(e,t){return A("linearGradient",{inside:e,id:t,x1:0,x2:0,y1:0,y2:1})}function O(e,t,n,a){return A("stop",{inside:e,style:"stop-color: "+n,offset:t,"stop-opacity":a})}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a={className:e,transform:t};return n&&(a.inside=n),A("g",a)}function T(e){return A("path",{className:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",d:e,styles:{stroke:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none",fill:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none","stroke-width":arguments.length>4&&void 0!==arguments[4]?arguments[4]:2}})}function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a="path-fill-gradient-"+t+"-"+(n?"lighter":"default"),i=C(e,a),r=[1,.6,.2];return n&&(r=[.4,.2,0]),O(i,"0%",t,r[0]),O(i,"50%",t,r[1]),O(i,"100%",t,r[2]),a}function M(e,t,n,a,i){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"none",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s={className:e,x:t,y:n,width:a,height:a,rx:i,fill:r};return Object.keys(o).map((function(e){s[e]=o[e]})),A("rect",s)}function N(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=i.fontSize||Te;return A("text",{className:e,x:t,y:n,dy:(void 0!==i.dy?i.dy:r/2)+"px","font-size":r+"px",fill:i.fill||Me,"text-anchor":i.textAnchor||"start",innerHTML:a})}function D(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};i.stroke||(i.stroke=Pe);var r=A("line",{className:"line-vertical "+i.className,x1:0,x2:0,y1:n,y2:a,styles:{stroke:i.stroke}}),o=A("text",{x:0,y:n>a?n+Oe:n-Oe-Te,dy:Te+"px","font-size":Te+"px","text-anchor":"middle",innerHTML:t+""}),s=A("g",{transform:"translate("+e+", 0)"});return s.appendChild(r),s.appendChild(o),s}function L(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};i.stroke||(i.stroke=Pe),i.lineType||(i.lineType=""),i.shortenNumbers&&(t=y(t));var r=A("line",{className:"line-horizontal "+i.className+("dashed"===i.lineType?"dashed":""),x1:n,x2:a,y1:0,y2:0,styles:{stroke:i.stroke}}),o=A("text",{x:n<a?n-Oe:n+Oe,y:0,dy:Te/2-2+"px","font-size":Te+"px","text-anchor":n<a?"end":"start",innerHTML:t+""}),s=A("g",{transform:"translate(0, "+e+")","stroke-opacity":1});return 0!==o&&"0"!==o||(s.style.stroke="rgba(27, 31, 35, 0.6)"),s.appendChild(r),s.appendChild(o),s}function E(e,t,n,a){var i="string"==typeof t?t:t.join(", ");return[e,{transform:n.join(", ")},a,je,"translate",{transform:i}]}function _(e,t,n){return E(e,[0,n],[0,t],$e)}function $(e,t){return[e,{d:t},Ee,je]}function F(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"linear",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.cloneNode(!0),s=e.cloneNode(!0);for(var l in t){var u=void 0;u="transform"===l?document.createElementNS("http://www.w3.org/2000/svg","animateTransform"):document.createElementNS("http://www.w3.org/2000/svg","animate");var c=r[l]||e.getAttribute(l),d=t[l],h={attributeName:l,from:c,to:d,begin:"0s",dur:n/1e3+"s",values:c+";"+d,keySplines:ze[a],keyTimes:"0;1",calcMode:"spline",fill:"freeze"};for(var p in i&&(h.type=i),h)u.setAttribute(p,h[p]);o.appendChild(u),i?s.setAttribute(l,"translate("+d+")"):s.setAttribute(l,d)}return[o,s]}function j(e,t){e.style.transform=t,e.style.webkitTransform=t,e.style.msTransform=t,e.style.mozTransform=t,e.style.oTransform=t}function I(e,t){var n=[],a=[];t.map((function(e){var t,i,r=e[0],o=r.parentNode;e[0]=r;var s=F.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e)),l=Ie(s,2);t=l[0],i=l[1],n.push(i),a.push([t,o]),o.replaceChild(t,r)}));var i=e.cloneNode(!0);return a.map((function(e,a){e[1].replaceChild(n[a],e[0]),t[a][0]=n[a]})),i}function z(e,t,n){if(0!==n.length){var a=I(t,n);t.parentNode==e&&(e.removeChild(t),e.appendChild(a)),setTimeout((function(){a.parentNode==e&&(e.removeChild(a),e.appendChild(t))}),Fe)}}function W(e){var t=new Date(e);return t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),t}function R(e){var t=e.getDate(),n=e.getMonth()+1;return[e.getFullYear(),(n>9?"":"0")+n,(t>9?"":"0")+t].join("-")}function H(e){return new Date(e.getTime())}function B(e,t){var n=G(e);return Math.ceil(function(e,t){var n=Ue*Ge;return(W(t)-W(e))/n}(n,t)/qe)}function Y(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function V(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Je[e];return t?n.slice(0,3):n}function q(e,t){return new Date(t,e+1,0)}function G(e){var t=H(e),n=t.getDay();return 0!==n&&U(t,-1*n),t}function U(e,t){e.setDate(e.getDate()+t)}function J(e,t,n){var a=Object.keys(et).filter((function(t){return e.includes(t)})),i=et[a[0]];return Object.assign(i,{constants:t,getData:n}),new Qe(i)}function X(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function K(e){if(0===e)return[0,0];if(isNaN(e))return{mantissa:-6755399441055744,exponent:972};var t=e>0?1:-1;if(!isFinite(e))return{mantissa:4503599627370496*t,exponent:972};e=Math.abs(e);var n=Math.floor(Math.log10(e));return[t*(e/Math.pow(10,n)),n]}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.ceil(e),a=Math.floor(t),i=n-a,r=i,o=1;i>5&&(i%2!=0&&(i=++n-a),r=i/2,o=2),i<=2&&(o=i/(r=4)),0===i&&(r=5,o=1);for(var s=[],l=0;l<=r;l++)s.push(a+o*l);return s}function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=K(e),a=st(n,2),i=a[0],r=a[1],o=t?t/Math.pow(10,r):0,s=Z(i=i.toFixed(6),o);return s.map((function(e){return e*Math.pow(10,r)}))}function ee(e){function t(e,t){for(var n=Q(e),a=n[1]-n[0],i=0,r=1;i<t;r++)i+=a,n.unshift(-1*i);return n}var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Math.max.apply(Math,X(e)),i=Math.min.apply(Math,X(e)),r=[];if(a>=0&&i>=0)K(a)[1],r=n?Q(a,i):Q(a);else if(a>0&&i<0){var o=Math.abs(i);a>=o?(K(a)[1],r=t(a,o)):(K(o)[1],r=t(o,a).reverse().map((function(e){return-1*e})))}else if(a<=0&&i<=0){var s=Math.abs(i),l=Math.abs(a);K(s)[1],r=(r=n?Q(s,l):Q(s)).reverse().map((function(e){return-1*e}))}return r}function te(e){var t=ne(e);return e.indexOf(0)>=0?e.indexOf(0):e[0]>0?-1*e[0]/t:-1*e[e.length-1]/t+(e.length-1)}function ne(e){return e[1]-e[0]}function ae(e){return e[e.length-1]-e[0]}function ie(e,t){return c(t.zeroLine-e*t.scaleMultiplier)}function re(e,t){return t.filter((function(t){return t<e})).length}function oe(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function se(e,t){e.labels=e.labels||[];var n=e.labels.length,a=e.datasets,i=new Array(n).fill(0);return a||(a=[{values:i}]),a.map((function(e){if(e.values){var a=e.values;a=(a=a.map((function(e){return isNaN(e)?0:e}))).length>n?a.slice(0,n):d(a,n-a.length,0)}else e.values=i;e.chartType||(e.chartType=t)})),e.yRegions&&e.yRegions.map((function(e){if(e.end<e.start){var t=[e.end,e.start];e.start=t[0],e.end=t[1]}})),e}function le(e){var t=e.labels.length,n=new Array(t).fill(0),a={labels:e.labels.slice(0,-1),datasets:e.datasets.map((function(e){return{name:"",values:n.slice(0,-1),chartType:e.chartType}}))};return e.yMarkers&&(a.yMarkers=[{value:0,label:""}]),e.yRegions&&(a.yRegions=[{start:0,end:0,label:""}]),a}function ue(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&a.firstChild?a.insertBefore(i,a.firstChild):a.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}('.chart-container{position:relative;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif}.chart-container .axis,.chart-container .chart-label{fill:#555b51}.chart-container .axis line,.chart-container .chart-label line{stroke:#dadada}.chart-container .dataset-units circle{stroke:#fff;stroke-width:2}.chart-container .dataset-units path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container .dataset-path{stroke-width:2px}.chart-container .path-group path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container line.dashed{stroke-dasharray:5,3}.chart-container .axis-line .specific-value{text-anchor:start}.chart-container .axis-line .y-line{text-anchor:end}.chart-container .axis-line .x-line{text-anchor:middle}.chart-container .legend-dataset-text{fill:#6c7680;font-weight:600}.graph-svg-tip{position:absolute;z-index:99999;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.8);border-radius:3px}.graph-svg-tip ol,.graph-svg-tip ul{padding-left:0;display:-webkit-box;display:-ms-flexbox;display:flex}.graph-svg-tip ul.data-point-list li{min-width:90px;-webkit-box-flex:1;-ms-flex:1;flex:1;font-weight:600}.graph-svg-tip strong{color:#dfe2e5;font-weight:600}.graph-svg-tip .svg-pointer{position:absolute;height:5px;margin:0 0 0 -5px;content:" ";border:5px solid transparent;border-top-color:rgba(0,0,0,.8)}.graph-svg-tip.comparison{padding:0;text-align:left;pointer-events:none}.graph-svg-tip.comparison .title{display:block;padding:10px;margin:0;font-weight:600;line-height:1;pointer-events:none}.graph-svg-tip.comparison ul{margin:0;white-space:nowrap;list-style:none}.graph-svg-tip.comparison li{display:inline-block;padding:5px 10px}');var ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.create=function(e,t){var a=document.createElement(e);for(var i in t){var r=t[i];if("inside"===i)n(r).appendChild(a);else if("around"===i){var o=n(r);o.parentNode.insertBefore(a,o),a.appendChild(o)}else"styles"===i?"object"===(void 0===r?"undefined":ce(r))&&Object.keys(r).map((function(e){a.style[e]=r[e]})):i in a?a[i]=r:a.setAttribute(i,r)}return a};var de={margins:{top:10,bottom:10,left:20,right:20},paddings:{top:20,bottom:40,left:30,right:10},baseHeight:240,titleHeight:20,legendHeight:30,titleFontSize:12},he=2,pe=10,fe=7,ve=["light-blue","blue","violet","red","orange","yellow","green","light-green","purple","magenta","light-grey","dark-grey"],me={bar:ve,line:ve,pie:ve,percentage:ve,heatmap:["#ebedf0","#c6e48b","#7bc96f","#239a3b","#196127"],donut:ve},ge=Math.PI/180,ye=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),be=function(){function e(t){var n=t.parent,a=void 0===n?null:n,i=t.colors,r=void 0===i?[]:i;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.parent=a,this.colors=r,this.titleName="",this.titleValue="",this.listValues=[],this.titleValueFirst=0,this.x=0,this.y=0,this.top=0,this.left=0,this.setup()}return ye(e,[{key:"setup",value:function(){this.makeTooltip()}},{key:"refresh",value:function(){this.fill(),this.calcPosition()}},{key:"makeTooltip",value:function(){var e=this;this.container=n.create("div",{inside:this.parent,className:"graph-svg-tip comparison",innerHTML:'<span class="title"></span>\n\t\t\t\t<ul class="data-point-list"></ul>\n\t\t\t\t<div class="svg-pointer"></div>'}),this.hideTip(),this.title=this.container.querySelector(".title"),this.dataPointList=this.container.querySelector(".data-point-list"),this.parent.addEventListener("mouseleave",(function(){e.hideTip()}))}},{key:"fill",value:function(){var e,t=this;this.index&&this.container.setAttribute("data-point-index",this.index),e=this.titleValueFirst?"<strong>"+this.titleValue+"</strong>"+this.titleName:this.titleName+"<strong>"+this.titleValue+"</strong>",this.title.innerHTML=e,this.dataPointList.innerHTML="",this.listValues.map((function(e,a){var i=t.colors[a]||"black",r=0===e.formatted||e.formatted?e.formatted:e.value,o=n.create("li",{styles:{"border-top":"3px solid "+i},innerHTML:'<strong style="display: block;">'+(0===r||r?r:"")+"</strong>\n\t\t\t\t\t"+(e.title?e.title:"")});t.dataPointList.appendChild(o)}))}},{key:"calcPosition",value:function(){var e=this.container.offsetWidth;this.top=this.y-this.container.offsetHeight-5,this.left=this.x-e/2;var t=this.parent.offsetWidth-e,n=this.container.querySelector(".svg-pointer");if(this.left<0)n.style.left="calc(50% - "+-1*this.left+"px)",this.left=0;else if(this.left>t){var a="calc(50% + "+(this.left-t)+"px)";n.style.left=a,this.left=t}else n.style.left="50%"}},{key:"setValues",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;this.titleName=n.name,this.titleValue=n.value,this.listValues=a,this.x=e,this.y=t,this.titleValueFirst=n.valueFirst||0,this.index=i,this.refresh()}},{key:"hideTip",value:function(){this.container.style.top="0px",this.container.style.left="0px",this.container.style.opacity="0"}},{key:"showTip",value:function(){this.container.style.top=this.top+"px",this.container.style.left=this.left+"px",this.container.style.opacity="1"}}]),e}(),we={"light-blue":"#7cd6fd",blue:"#5e64ff",violet:"#743ee2",red:"#ff5858",orange:"#ffa00a",yellow:"#feef72",green:"#28a745","light-green":"#98d85b",purple:"#b554ff",magenta:"#ffa3ef",black:"#36114C",grey:"#bdd3e6","light-grey":"#f0f4f7","dark-grey":"#b8c2cc"},xe=function(e){return/rgb[a]{0,1}\([\d, ]+\)/gim.test(e)?/\D+(\d*)\D+(\d*)\D+(\d*)/gim.exec(e).map((function(e,t){return 0!==t?Number(e).toString(16):"#"})).reduce((function(e,t){return""+e+t})):we[e]||e},ke=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce=6,Oe=4,Se=15,Te=10,Pe="#dadada",Me="#555b51",Ne={bar:function(e){var t=void 0;"rect"!==e.nodeName&&(t=e.getAttribute("transform"),e=e.childNodes[0]);var n=e.cloneNode();return n.style.fill="#000000",n.style.opacity="0.4",t&&n.setAttribute("transform",t),n},dot:function(e){var t=void 0;"circle"!==e.nodeName&&(t=e.getAttribute("transform"),e=e.childNodes[0]);var n=e.cloneNode(),a=e.getAttribute("r"),i=e.getAttribute("fill");return n.setAttribute("r",parseInt(a)+4),n.setAttribute("fill",i),n.style.opacity="0.6",t&&n.setAttribute("transform",t),n},heat_square:function(e){var t=void 0;"circle"!==e.nodeName&&(t=e.getAttribute("transform"),e=e.childNodes[0]);var n=e.cloneNode(),a=e.getAttribute("r"),i=e.getAttribute("fill");return n.setAttribute("r",parseInt(a)+4),n.setAttribute("fill",i),n.style.opacity="0.6",t&&n.setAttribute("transform",t),n}},De={bar:function(e,t){var n=void 0;"rect"!==e.nodeName&&(n=e.getAttribute("transform"),e=e.childNodes[0]);var a=["x","y","width","height"];Object.values(e.attributes).filter((function(e){return a.includes(e.name)&&e.specified})).map((function(e){t.setAttribute(e.name,e.nodeValue)})),n&&t.setAttribute("transform",n)},dot:function(e,t){var n=void 0;"circle"!==e.nodeName&&(n=e.getAttribute("transform"),e=e.childNodes[0]);var a=["cx","cy"];Object.values(e.attributes).filter((function(e){return a.includes(e.name)&&e.specified})).map((function(e){t.setAttribute(e.name,e.nodeValue)})),n&&t.setAttribute("transform",n)},heat_square:function(e,t){var n=void 0;"circle"!==e.nodeName&&(n=e.getAttribute("transform"),e=e.childNodes[0]);var a=["cx","cy"];Object.values(e.attributes).filter((function(e){return a.includes(e.name)&&e.specified})).map((function(e){t.setAttribute(e.name,e.nodeValue)})),n&&t.setAttribute("transform",n)}},Le=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Ee=350,_e=350,$e=Ee,Fe=250,je="easein",Ie=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},ze={ease:"0.25 0.1 0.25 1",linear:"0 0 1 1",easein:"0.1 0.8 0.2 1",easeout:"0 0 0.58 1",easeinout:"0.42 0 0.58 1"},We=".chart-container{position:relative;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif}.chart-container .axis,.chart-container .chart-label{fill:#555b51}.chart-container .axis line,.chart-container .chart-label line{stroke:#dadada}.chart-container .dataset-units circle{stroke:#fff;stroke-width:2}.chart-container .dataset-units path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container .dataset-path{stroke-width:2px}.chart-container .path-group path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container line.dashed{stroke-dasharray:5,3}.chart-container .axis-line .specific-value{text-anchor:start}.chart-container .axis-line .y-line{text-anchor:end}.chart-container .axis-line .x-line{text-anchor:middle}.chart-container .legend-dataset-text{fill:#6c7680;font-weight:600}.graph-svg-tip{position:absolute;z-index:99999;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.8);border-radius:3px}.graph-svg-tip ul{padding-left:0;display:flex}.graph-svg-tip ol{padding-left:0;display:flex}.graph-svg-tip ul.data-point-list li{min-width:90px;flex:1;font-weight:600}.graph-svg-tip strong{color:#dfe2e5;font-weight:600}.graph-svg-tip .svg-pointer{position:absolute;height:5px;margin:0 0 0 -5px;content:' ';border:5px solid transparent;border-top-color:rgba(0,0,0,.8)}.graph-svg-tip.comparison{padding:0;text-align:left;pointer-events:none}.graph-svg-tip.comparison .title{display:block;padding:10px;margin:0;font-weight:600;line-height:1;pointer-events:none}.graph-svg-tip.comparison ul{margin:0;white-space:nowrap;list-style:none}.graph-svg-tip.comparison li{display:inline-block;padding:5px 10px}",Re=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),He=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent="string"==typeof t?document.querySelector(t):t,!(this.parent instanceof HTMLElement))throw new Error("No `parent` element to render on was provided.");this.rawChartArgs=n,this.title=n.title||"",this.type=n.type||"",this.realData=this.prepareData(n.data),this.data=this.prepareFirstData(this.realData),this.colors=this.validateColors(n.colors,this.type),this.config={showTooltip:1,showLegend:1,isNavigable:n.isNavigable||0,animate:void 0!==n.animate?n.animate:1,truncateLegends:n.truncateLegends||1},this.measures=JSON.parse(JSON.stringify(de));var a=this.measures;this.setMeasures(n),this.title.length||(a.titleHeight=0),this.config.showLegend||(a.legendHeight=0),this.argHeight=n.height||a.baseHeight,this.state={},this.options={},this.initTimeout=700,this.config.isNavigable&&(this.overlays=[]),this.configure(n)}return Re(e,[{key:"prepareData",value:function(e){return e}},{key:"prepareFirstData",value:function(e){return e}},{key:"validateColors",value:function(e,t){var n=[];return(e=(e||[]).concat(me[t])).forEach((function(e){var t=xe(e);!function(e){return/(^\s*)(#)((?:[A-Fa-f0-9]{3}){1,2})$/i.test(e)||/(^\s*)(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/i.test(e)}(t)?console.warn('"'+e+'" is not a valid color.'):n.push(t)})),n}},{key:"setMeasures",value:function(){}},{key:"configure",value:function(){var e=this,t=this.argHeight;this.baseHeight=t,this.height=t-l(this.measures),this.boundDrawFn=function(){return e.draw(!0)},window.addEventListener("resize",this.boundDrawFn),window.addEventListener("orientationchange",this.boundDrawFn)}},{key:"destroy",value:function(){window.removeEventListener("resize",this.boundDrawFn),window.removeEventListener("orientationchange",this.boundDrawFn)}},{key:"setup",value:function(){this.makeContainer(),this.updateWidth(),this.makeTooltip(),this.draw(!1,!0)}},{key:"makeContainer",value:function(){this.parent.innerHTML="";var e={inside:this.parent,className:"chart-container"};this.independentWidth&&(e.styles={width:this.independentWidth+"px"}),this.container=n.create("div",e)}},{key:"makeTooltip",value:function(){this.tip=new be({parent:this.container,colors:this.colors}),this.bindTooltip()}},{key:"bindTooltip",value:function(){}},{key:"draw",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&i(this.parent)||(this.updateWidth(),this.calc(t),this.makeChartArea(),this.setupComponents(),this.components.forEach((function(t){return t.setup(e.drawArea)})),this.render(this.components,!1),n&&(this.data=this.realData,setTimeout((function(){e.update(e.data)}),this.initTimeout)),this.renderLegend(),this.setupNavigation(n))}},{key:"calc",value:function(){}},{key:"updateWidth",value:function(){this.baseWidth=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight);return e.clientWidth-n}(this.parent),this.width=this.baseWidth-u(this.measures)}},{key:"makeChartArea",value:function(){this.svg&&this.container.removeChild(this.svg);var e=this.measures;this.svg=function(e,t,n,a){return A("svg",{className:t,inside:e,width:n,height:a})}(this.container,"frappe-chart chart",this.baseWidth,this.baseHeight),this.svgDefs=function(e){return A("defs",{inside:e})}(this.svg),this.title.length&&(this.titleEL=N("title",e.margins.left,e.margins.top,this.title,{fontSize:e.titleFontSize,fill:"#666666",dy:e.titleFontSize}));var t=o(e);this.drawArea=S(this.type+"-chart chart-draw-area","translate("+s(e)+", "+t+")"),this.config.showLegend&&(t+=this.height+e.paddings.bottom,this.legendArea=S("chart-legend","translate("+s(e)+", "+t+")")),this.title.length&&this.svg.appendChild(this.titleEL),this.svg.appendChild(this.drawArea),this.config.showLegend&&this.svg.appendChild(this.legendArea),this.updateTipOffset(s(e),o(e))}},{key:"updateTipOffset",value:function(e,t){this.tip.offset={x:e,y:t}}},{key:"setupComponents",value:function(){this.components=new Map}},{key:"update",value:function(e){e||console.error("No data to update."),this.data=this.prepareData(e),this.calc(),this.render(this.components,this.config.animate)}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.components,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.config.isNavigable&&this.overlays.map((function(e){return e.parentNode.removeChild(e)}));var a=[];t.forEach((function(e){a=a.concat(e.update(n))})),a.length>0?(z(this.container,this.svg,a),setTimeout((function(){t.forEach((function(e){return e.make()})),e.updateNav()}),400)):(t.forEach((function(e){return e.make()})),this.updateNav())}},{key:"updateNav",value:function(){this.config.isNavigable&&(this.makeOverlay(),this.bindUnits())}},{key:"renderLegend",value:function(){}},{key:"setupNavigation",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.config.isNavigable&&t&&(this.bindOverlay(),this.keyActions={13:this.onEnterKey.bind(this),37:this.onLeftArrow.bind(this),38:this.onUpArrow.bind(this),39:this.onRightArrow.bind(this),40:this.onDownArrow.bind(this)},document.addEventListener("keydown",(function(t){r(e.container)&&(t=t||window.event,e.keyActions[t.keyCode]&&e.keyActions[t.keyCode]())})))}},{key:"makeOverlay",value:function(){}},{key:"updateOverlay",value:function(){}},{key:"bindOverlay",value:function(){}},{key:"bindUnits",value:function(){}},{key:"onLeftArrow",value:function(){}},{key:"onRightArrow",value:function(){}},{key:"onUpArrow",value:function(){}},{key:"onDownArrow",value:function(){}},{key:"onEnterKey",value:function(){}},{key:"addDataPoint",value:function(){}},{key:"removeDataPoint",value:function(){}},{key:"getDataPoint",value:function(){}},{key:"setCurrentDataPoint",value:function(){}},{key:"updateDataset",value:function(){}},{key:"export",value:function(){var e=function(e){var t=e.cloneNode(!0);t.classList.add("chart-container"),t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");var a=n.create("style",{innerHTML:We});t.insertBefore(a,t.firstChild);var i=n.create("div");return i.appendChild(t),i.innerHTML}(this.svg);!function(e,t){var n=document.createElement("a");n.style="display: none";var a=new Blob(t,{type:"image/svg+xml; charset=utf-8"}),i=window.URL.createObjectURL(a);n.href=i,n.download=e,document.body.appendChild(n),n.click(),setTimeout((function(){document.body.removeChild(n),window.URL.revokeObjectURL(i)}),300)}(this.title||"Chart",[e])}}]),e}(),Be=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Ye=function e(t,n,a){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,a)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(a):void 0},Ve=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Be(t,[{key:"configure",value:function(e){Ye(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"configure",this).call(this,e),this.config.formatTooltipY=(e.tooltipOptions||{}).formatTooltipY,this.config.maxSlices=e.maxSlices||20,this.config.maxLegendPoints=e.maxLegendPoints||20}},{key:"calc",value:function(){var e=this,t=this.state,n=this.config.maxSlices;t.sliceTotals=[];var a=this.data.labels.map((function(t,n){var a=0;return e.data.datasets.map((function(e){a+=e.values[n]})),[a,t]})).filter((function(e){return e[0]>=0})),i=a;if(a.length>n){a.sort((function(e,t){return t[0]-e[0]})),i=a.slice(0,n-1);var r=0;a.slice(n-1).map((function(e){r+=e[0]})),i.push([r,"Rest"]),this.colors[n-1]="grey"}t.labels=[],i.map((function(e){t.sliceTotals.push(function(e){return Number(Math.round(e+"e4")+"e-4")}(e[0])),t.labels.push(e[1])})),t.grandTotal=t.sliceTotals.reduce((function(e,t){return e+t}),0),this.center={x:this.width/2,y:this.height/2}}},{key:"renderLegend",value:function(){var e=this,t=this.state;this.legendArea.textContent="",this.legendTotals=t.sliceTotals.slice(0,this.config.maxLegendPoints);var n=0,a=0;this.legendTotals.map((function(i,r){var o=150,s=Math.floor((e.width-u(e.measures))/o);e.legendTotals.length<s&&(o=e.width/e.legendTotals.length),n>s&&(n=0,a+=20);var l=o*n+5,c=e.config.truncateLegends?g(t.labels[r],o/10):t.labels[r],d=e.config.formatTooltipY?e.config.formatTooltipY(i):i,h=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",i=arguments[4];i=arguments.length>5&&void 0!==arguments[5]&&arguments[5]?g(i,Se):i;var r={className:"legend-dot",cx:0,cy:0,r:n,fill:a},o=A("text",{className:"legend-dataset-text",x:0,y:0,dx:Te+"px",dy:Te/3+"px","font-size":1.2*Te+"px","text-anchor":"start",fill:Me,innerHTML:i}),s=A("g",{transform:"translate("+e+", "+t+")"});return s.appendChild(A("circle",r)),s.appendChild(o),s}(l,a,5,e.colors[r],c+": "+d,!1);e.legendArea.appendChild(h),n++}))}}]),t}(He),qe=7,Ge=1e3,Ue=86400,Je=["January","February","March","April","May","June","July","August","September","October","November","December"],Xe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ke=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Ze=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Qe=function(){function e(t){var n=t.layerClass,a=void 0===n?"":n,i=t.layerTransform,r=void 0===i?"":i,o=t.constants,s=t.getData,l=t.makeElements,u=t.animateElements;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.layerTransform=r,this.constants=o,this.makeElements=l,this.getData=s,this.animateElements=u,this.store=[],this.labels=[],this.layerClass=a,this.layerClass="function"==typeof this.layerClass?this.layerClass():this.layerClass,this.refresh()}return Ze(e,[{key:"refresh",value:function(e){this.data=e||this.getData()}},{key:"setup",value:function(e){this.layer=S(this.layerClass,this.layerTransform,e)}},{key:"make",value:function(){this.render(this.data),this.oldData=this.data}},{key:"render",value:function(e){var t=this;this.store=this.makeElements(e),this.layer.textContent="",this.store.forEach((function(e){t.layer.appendChild(e)})),this.labels.forEach((function(e){t.layer.appendChild(e)}))}},{key:"update",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.refresh();var t=[];return e&&(t=this.animateElements(this.data)||[]),t}}]),e}(),et={donutSlices:{layerClass:"donut-slices",makeElements:function(e){return e.sliceStrings.map((function(t,n){var a=T(t,"donut-path",e.colors[n],"none",e.strokeWidth);return a.style.transition="transform .3s;",a}))},animateElements:function(e){return this.store.map((function(t,n){return $(t,e.sliceStrings[n])}))}},pieSlices:{layerClass:"pie-slices",makeElements:function(e){return e.sliceStrings.map((function(t,n){var a=T(t,"pie-path","none",e.colors[n]);return a.style.transition="transform .3s;",a}))},animateElements:function(e){return this.store.map((function(t,n){return $(t,e.sliceStrings[n])}))}},percentageBars:{layerClass:"percentage-bars",makeElements:function(e){var t=this;return e.xPositions.map((function(n,a){return function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:he,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"none";return A("rect",{className:"percentage-bar",x:e,y:t,width:n,height:a,fill:r,styles:{stroke:x(r,-25),"stroke-dasharray":"0, "+(a+n)+", "+n+", "+a,"stroke-width":i}})}(n,0,e.widths[a],t.constants.barHeight,t.constants.barDepth,e.colors[a])}))},animateElements:function(e){if(e)return[]}},yAxis:{layerClass:"y axis",makeElements:function(e){var t=this;return e.positions.map((function(n,a){return function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};f(e)||(e=0),a.pos||(a.pos="left"),a.offset||(a.offset=0),a.mode||(a.mode="span"),a.stroke||(a.stroke=Pe),a.className||(a.className="");var i=-1*Ce,r="span"===a.mode?n+Ce:0;return"tick"===a.mode&&"right"===a.pos&&(i=n+Ce,r=n),L(e,t,i+=a.offset,r+=a.offset,{stroke:a.stroke,className:a.className,lineType:a.lineType,shortenNumbers:a.shortenNumbers})}(n,e.labels[a],t.constants.width,{mode:t.constants.mode,pos:t.constants.pos,shortenNumbers:t.constants.shortenNumbers})}))},animateElements:function(e){var t=e.positions,n=e.labels,a=this.oldData.positions,i=this.oldData.labels,r=m(a,t),o=Ke(r,2);a=o[0],t=o[1];var s=m(i,n),l=Ke(s,2);return i=l[0],n=l[1],this.render({positions:a,labels:n}),this.store.map((function(e,n){return _(e,t[n],a[n])}))}},xAxis:{layerClass:"x axis",makeElements:function(e){var t=this;return e.positions.map((function(n,a){return function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};f(e)||(e=0),a.pos||(a.pos="bottom"),a.offset||(a.offset=0),a.mode||(a.mode="span"),a.stroke||(a.stroke=Pe),a.className||(a.className="");var i=n+Ce,r="span"===a.mode?-1*Ce:n;return"tick"===a.mode&&"top"===a.pos&&(i=-1*Ce,r=0),D(e,t,i,r,{stroke:a.stroke,className:a.className,lineType:a.lineType})}(n,e.calcLabels[a],t.constants.height,{mode:t.constants.mode,pos:t.constants.pos})}))},animateElements:function(e){var t=e.positions,n=e.calcLabels,a=this.oldData.positions,i=this.oldData.calcLabels,r=m(a,t),o=Ke(r,2);a=o[0],t=o[1];var s=m(i,n),l=Ke(s,2);return i=l[0],n=l[1],this.render({positions:a,calcLabels:n}),this.store.map((function(e,n){return function(e,t,n){return E(e,[n,0],[t,0],$e)}(e,t[n],a[n])}))}},yMarkers:{layerClass:"y-markers",makeElements:function(e){var t=this;return e.map((function(e){return function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};a.labelPos||(a.labelPos="right");var i=A("text",{className:"chart-label",x:"left"===a.labelPos?Oe:n-h(t,5)-Oe,y:0,dy:Te/-2+"px","font-size":Te+"px","text-anchor":"start",innerHTML:t+""}),r=L(e,"",0,n,{stroke:a.stroke||Pe,className:a.className||"",lineType:a.lineType});return r.appendChild(i),r}(e.position,e.label,t.constants.width,{labelPos:e.options.labelPos,mode:"span",lineType:"dashed"})}))},animateElements:function(e){var t=m(this.oldData,e),n=Ke(t,2);this.oldData=n[0];var a=(e=n[1]).map((function(e){return e.position})),i=e.map((function(e){return e.label})),r=e.map((function(e){return e.options})),o=this.oldData.map((function(e){return e.position}));return this.render(o.map((function(e,t){return{position:o[t],label:i[t],options:r[t]}}))),this.store.map((function(e,t){return _(e,a[t],o[t])}))}},yRegions:{layerClass:"y-regions",makeElements:function(e){var t=this;return e.map((function(e){return function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=e-t,o=A("rect",{className:"bar mini",styles:{fill:"rgba(228, 234, 239, 0.49)",stroke:Pe,"stroke-dasharray":n+", "+r},x:0,y:0,width:n,height:r});i.labelPos||(i.labelPos="right");var s=A("text",{className:"chart-label",x:"left"===i.labelPos?Oe:n-h(a+"",4.5)-Oe,y:0,dy:Te/-2+"px","font-size":Te+"px","text-anchor":"start",innerHTML:a+""}),l=A("g",{transform:"translate(0, "+t+")"});return l.appendChild(o),l.appendChild(s),l}(e.startPos,e.endPos,t.constants.width,e.label,{labelPos:e.options.labelPos})}))},animateElements:function(e){var t=m(this.oldData,e),n=Ke(t,2);this.oldData=n[0];var a=(e=n[1]).map((function(e){return e.endPos})),i=e.map((function(e){return e.label})),r=e.map((function(e){return e.startPos})),o=e.map((function(e){return e.options})),s=this.oldData.map((function(e){return e.endPos})),l=this.oldData.map((function(e){return e.startPos}));this.render(s.map((function(e,t){return{startPos:l[t],endPos:s[t],label:i[t],options:o[t]}})));var u=[];return this.store.map((function(e,t){u=u.concat(function(e,t,n,a){var i=t-n,r=e.childNodes[0];return[[r,{height:i,"stroke-dasharray":r.getAttribute("width")+", "+i},$e,je],E(e,[0,a],[0,n],$e)]}(e,r[t],a[t],s[t]))})),u}},heatDomain:{layerClass:function(){return"heat-domain domain-"+this.constants.index},makeElements:function(e){var t=this,n=this.constants,a=n.index,i=n.colWidth,r=n.rowHeight,o=n.squareSize,s=n.radius,l=n.xTranslate,u=0;return this.serializedSubDomains=[],e.cols.map((function(e,n){1===n&&t.labels.push(N("domain-name",l,-12,V(a,!0).toUpperCase(),{fontSize:9})),e.map((function(e,n){if(e.fill){var a={"data-date":e.yyyyMmDd,"data-value":e.dataValue,"data-day":n},i=M("day",l,u,o,s,e.fill,a);t.serializedSubDomains.push(i)}u+=r})),u=0,l+=i})),this.serializedSubDomains},animateElements:function(e){if(e)return[]}},barGraph:{layerClass:function(){return"dataset-units dataset-bars dataset-"+this.constants.index},makeElements:function(e){var t=this.constants;return this.unitType="bar",this.units=e.yPositions.map((function(n,a){return function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},l=v(t,s.zeroLine),u=ke(l,2),c=u[0],d=u[1];d-=o,0===c&&(c=s.minHeight,d-=s.minHeight),f(e)||(e=0),f(d)||(d=0),f(c,!0)||(c=0),f(n,!0)||(n=0);var h=A("rect",{className:"bar mini",style:"fill: "+a,"data-point-index":r,x:e,y:d,width:n,height:c});if((i+="")||i.length){h.setAttribute("y",0),h.setAttribute("x",0);var p=A("text",{className:"data-point-value",x:n/2,y:0,dy:Te/2*-1+"px","font-size":Te+"px","text-anchor":"middle",innerHTML:i}),m=A("g",{"data-point-index":r,transform:"translate("+e+", "+d+")"});return m.appendChild(h),m.appendChild(p),m}return h}(e.xPositions[a],n,e.barWidth,t.color,e.labels[a],a,e.offsets[a],{zeroLine:e.zeroLine,barsWidth:e.barsWidth,minHeight:t.minHeight})})),this.units},animateElements:function(e){var t=e.xPositions,n=e.yPositions,a=e.offsets,i=e.labels,r=this.oldData.xPositions,o=this.oldData.yPositions,s=this.oldData.offsets,l=this.oldData.labels,u=m(r,t),c=Ke(u,2);r=c[0],t=c[1];var d=m(o,n),h=Ke(d,2);o=h[0],n=h[1];var p=m(s,a),f=Ke(p,2);s=f[0],a=f[1];var g=m(l,i),y=Ke(g,2);l=y[0],i=y[1],this.render({xPositions:r,yPositions:o,offsets:s,labels:i,zeroLine:this.oldData.zeroLine,barsWidth:this.oldData.barsWidth,barWidth:this.oldData.barWidth});var b=[];return this.store.map((function(i,r){b=b.concat(function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=v(n,(arguments.length>5&&void 0!==arguments[5]?arguments[5]:{}).zeroLine),o=Le(r,2),s=o[0],l=o[1];return l-=i,"rect"!==e.nodeName?[[e.childNodes[0],{width:a,height:s},Ee,je],E(e,e.getAttribute("transform").split("(")[1].slice(0,-1),[t,l],$e)]:[[e,{width:a,height:s,x:t,y:l},Ee,je]]}(i,t[r],n[r],e.barWidth,a[r],{zeroLine:e.zeroLine}))})),b}},lineGraph:{layerClass:function(){return"dataset-units dataset-line dataset-"+this.constants.index},makeElements:function(e){var t=this.constants;return this.unitType="dot",this.paths={},t.hideLine||(this.paths=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=t.map((function(t,n){return e[n]+","+t})).join("L");a.spline&&(r=b(e,t));var o=T("M"+r,"line-graph-path",n);if(a.heatline){var s=P(i.svgDefs,n);o.style.stroke="url(#"+s+")"}var l={path:o};if(a.regionFill){var u=P(i.svgDefs,n,!0),c="M"+e[0]+","+i.zeroLine+"L"+r+"L"+e.slice(-1)[0]+","+i.zeroLine;l.region=T(c,"region-fill","none","url(#"+u+")")}return l}(e.xPositions,e.yPositions,t.color,{heatline:t.heatline,regionFill:t.regionFill,spline:t.spline},{svgDefs:t.svgDefs,zeroLine:e.zeroLine})),this.units=[],t.hideDots||(this.units=e.yPositions.map((function(n,a){return function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=A("circle",{style:"fill: "+a,"data-point-index":r,cx:e,cy:t,r:n});if((i+="")||i.length){o.setAttribute("cy",0),o.setAttribute("cx",0);var s=A("text",{className:"data-point-value",x:0,y:0,dy:Te/2*-1-n+"px","font-size":Te+"px","text-anchor":"middle",innerHTML:i}),l=A("g",{"data-point-index":r,transform:"translate("+e+", "+t+")"});return l.appendChild(o),l.appendChild(s),l}return o}(e.xPositions[a],n,e.radius,t.color,t.valuesOverPoints?e.values[a]:"",a)}))),Object.values(this.paths).concat(this.units)},animateElements:function(e){var t=e.xPositions,n=e.yPositions,a=e.values,i=this.oldData.xPositions,r=this.oldData.yPositions,o=this.oldData.values,s=m(i,t),l=Ke(s,2);i=l[0],t=l[1];var u=m(r,n),c=Ke(u,2);r=c[0],n=c[1];var d=m(o,a),h=Ke(d,2);o=h[0],a=h[1],this.render({xPositions:i,yPositions:r,values:a,zeroLine:this.oldData.zeroLine,radius:this.oldData.radius});var p=[];return Object.keys(this.paths).length&&(p=p.concat(function(e,t,n,a,i){var r=[],o=n.map((function(e,n){return t[n]+","+e})).join("L");i&&(o=b(t,n));var s=[e.path,{d:"M"+o},_e,je];if(r.push(s),e.region){var l=t[0]+","+a+"L",u="L"+t.slice(-1)[0]+", "+a,c=[e.region,{d:"M"+l+o+u},_e,je];r.push(c)}return r}(this.paths,t,n,e.zeroLine,this.constants.spline))),this.units.length&&this.units.map((function(e,a){p=p.concat(function(e,t,n){return"circle"!==e.nodeName?[E(e,e.getAttribute("transform").split("(")[1].slice(0,-1),[t,n],$e)]:[[e,{cx:t,cy:n},Ee,je]]}(e,t[a],n[a]))})),p}}},tt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),nt=function e(t,n,a){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,a)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(a):void 0},at=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.type="percentage",a.setup(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),tt(t,[{key:"setMeasures",value:function(e){var t=this.measures;this.barOptions=e.barOptions||{};var n=this.barOptions;n.height=n.height||20,n.depth=n.depth||he,t.paddings.right=30,t.legendHeight=60,t.baseHeight=8*(n.height+.5*n.depth)}},{key:"setupComponents",value:function(){var e=this.state,t=[["percentageBars",{barHeight:this.barOptions.height,barDepth:this.barOptions.depth},function(){return{xPositions:e.xPositions,widths:e.widths,colors:this.colors}}.bind(this)]];this.components=new Map(t.map((function(e){var t=J.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e));return[e[0],t]})))}},{key:"calc",value:function(){var e=this;nt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"calc",this).call(this);var n=this.state;n.xPositions=[],n.widths=[];var a=0;n.sliceTotals.map((function(t){var i=e.width*t/n.grandTotal;n.widths.push(i),n.xPositions.push(a),a+=i}))}},{key:"makeDataByIndex",value:function(){}},{key:"bindTooltip",value:function(){var e=this,t=this.state;this.container.addEventListener("mousemove",(function(n){var i=e.components.get("percentageBars").store,r=n.target;if(i.includes(r)){var o=i.indexOf(r),s=a(e.container),l=a(r),u=l.left-s.left+parseInt(r.getAttribute("width"))/2,c=l.top-s.top,d=(e.formattedLabels&&e.formattedLabels.length>0?e.formattedLabels[o]:e.state.labels[o])+": ",h=t.sliceTotals[o]/t.grandTotal;e.tip.setValues(u,c,{name:d,value:(100*h).toFixed(1)+"%"}),e.tip.showTip()}}))}}]),t}(Ve),it=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),rt=function e(t,n,a){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,a)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(a):void 0},ot=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.type="pie",a.initTimeout=0,a.init=1,a.setup(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),it(t,[{key:"configure",value:function(e){rt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"configure",this).call(this,e),this.mouseMove=this.mouseMove.bind(this),this.mouseLeave=this.mouseLeave.bind(this),this.hoverRadio=e.hoverRadio||.1,this.config.startAngle=e.startAngle||0,this.clockWise=e.clockWise||!1}},{key:"calc",value:function(){var e=this;rt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"calc",this).call(this);var n=this.state;this.radius=this.height>this.width?this.center.x:this.center.y;var a=this.radius,i=this.clockWise,r=n.slicesProperties||[];n.sliceStrings=[],n.slicesProperties=[];var o=180-this.config.startAngle;n.sliceTotals.map((function(t,s){var l=o,u=t/n.grandTotal*360,c=u>180?1:0,d=i?-u:u,h=o+=d,f=p(l,a),v=p(h,a),m=e.init&&r[s],g=void 0,y=void 0;e.init?(g=m?m.startPosition:f,y=m?m.endPosition:f):(g=f,y=v);var b=360===u?function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=n.x+e.x,s=n.y+e.y,l=n.x+t.x,u=2*n.y,c=n.y+t.y;return"M"+n.x+" "+n.y+"\n\t\tL"+o+" "+s+"\n\t\tA "+a+" "+a+" 0 "+r+" "+(i?1:0)+"\n\t\t"+l+" "+u+" z\n\t\tL"+o+" "+u+"\n\t\tA "+a+" "+a+" 0 "+r+" "+(i?1:0)+"\n\t\t"+l+" "+c+" z"}(g,y,e.center,e.radius,i,c):function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=n.x+e.x,s=n.y+e.y,l=n.x+t.x,u=n.y+t.y;return"M"+n.x+" "+n.y+"\n\t\tL"+o+" "+s+"\n\t\tA "+a+" "+a+" 0 "+r+" "+(i?1:0)+"\n\t\t"+l+" "+u+" z"}(g,y,e.center,e.radius,i,c);n.sliceStrings.push(b),n.slicesProperties.push({startPosition:f,endPosition:v,value:t,total:n.grandTotal,startAngle:l,endAngle:h,angle:d})})),this.init=0}},{key:"setupComponents",value:function(){var e=this.state,t=[["pieSlices",{},function(){return{sliceStrings:e.sliceStrings,colors:this.colors}}.bind(this)]];this.components=new Map(t.map((function(e){var t=J.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e));return[e[0],t]})))}},{key:"calTranslateByAngle",value:function(e){var t=this.radius,n=this.hoverRadio,a=p(e.startAngle+e.angle/2,t);return"translate3d("+a.x*n+"px,"+a.y*n+"px,0)"}},{key:"hoverSlice",value:function(e,t,n,i){if(e){var r=this.colors[t];if(n){j(e,this.calTranslateByAngle(this.state.slicesProperties[t])),e.style.fill=x(r,50);var o=a(this.svg),s=i.pageX-o.left+10,l=i.pageY-o.top-10,u=(this.formatted_labels&&this.formatted_labels.length>0?this.formatted_labels[t]:this.state.labels[t])+": ",c=(100*this.state.sliceTotals[t]/this.state.grandTotal).toFixed(1);this.tip.setValues(s,l,{name:u,value:c+"%"}),this.tip.showTip()}else j(e,"translate3d(0,0,0)"),this.tip.hideTip(),e.style.fill=r}}},{key:"bindTooltip",value:function(){this.container.addEventListener("mousemove",this.mouseMove),this.container.addEventListener("mouseleave",this.mouseLeave)}},{key:"mouseMove",value:function(e){var t=e.target,n=this.components.get("pieSlices").store,a=this.curActiveSliceIndex,i=this.curActiveSlice;if(n.includes(t)){var r=n.indexOf(t);this.hoverSlice(i,a,!1),this.curActiveSlice=t,this.curActiveSliceIndex=r,this.hoverSlice(t,r,!0,e)}else this.mouseLeave()}},{key:"mouseLeave",value:function(){this.hoverSlice(this.curActiveSlice,this.curActiveSliceIndex,!1)}}]),t}(Ve),st=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},lt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),ut=12,ct=ut,dt=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));a.type="heatmap",a.countLabel=n.countLabel||"";var i=["Sunday","Monday"],r=i.includes(n.startSubDomain)?n.startSubDomain:"Sunday";return a.startSubDomainIndex=i.indexOf(r),a.setup(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),lt(t,[{key:"setMeasures",value:function(e){var t=this.measures;this.discreteDomains=0===e.discreteDomains?0:1,t.paddings.top=36,t.paddings.bottom=0,t.legendHeight=24,t.baseHeight=ct*qe+l(t);var n=this.data,a=this.discreteDomains?12:0;this.independentWidth=(B(n.start,n.end)+a)*ut+u(t)}},{key:"updateWidth",value:function(){var e=this.discreteDomains?12:0,t=this.state.noOfWeeks?this.state.noOfWeeks:52;this.baseWidth=(t+e)*ut+u(this.measures)}},{key:"prepareData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data;if(e.start&&e.end&&e.start>e.end)throw new Error("Start date cannot be greater than end date.");if(e.start||(e.start=new Date,e.start.setFullYear(e.start.getFullYear()-1)),e.end||(e.end=new Date),e.dataPoints=e.dataPoints||{},parseInt(Object.keys(e.dataPoints)[0])>1e5){var t={};Object.keys(e.dataPoints).forEach((function(n){var a=new Date(n*Ge);t[R(a)]=e.dataPoints[n]})),e.dataPoints=t}return e}},{key:"calc",value:function(){var e=this.state;e.start=H(this.data.start),e.end=H(this.data.end),e.firstWeekStart=H(e.start),e.noOfWeeks=B(e.start,e.end),e.distribution=function(e,t){for(var n=Math.max.apply(Math,X(e)),a=1/(t-1),i=[],r=0;r<t;r++){var o=n*(a*r);i.push(o)}return i}(Object.values(this.data.dataPoints),5),e.domainConfigs=this.getDomains()}},{key:"setupComponents",value:function(){var e=this,t=this.state,n=this.discreteDomains?0:1,a=t.domainConfigs.map((function(a,i){return["heatDomain",{index:a.index,colWidth:ut,rowHeight:ct,squareSize:pe,radius:e.rawChartArgs.radius||0,xTranslate:t.domainConfigs.filter((function(e,t){return t<i})).map((function(e){return e.cols.length-n})).reduce((function(e,t){return e+t}),0)*ut},function(){return t.domainConfigs[i]}.bind(e)]}));this.components=new Map(a.map((function(e,t){var n=J.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e));return[e[0]+"-"+t,n]})));var i=0;Xe.forEach((function(t,n){if([1,3,5].includes(n)){var a=N("subdomain-name",-6,i,t,{fontSize:pe,dy:8,textAnchor:"end"});e.drawArea.appendChild(a)}i+=ct}))}},{key:"update",value:function(e){e||console.error("No data to update."),this.data=this.prepareData(e),this.draw(),this.bindTooltip()}},{key:"bindTooltip",value:function(){var e=this;this.container.addEventListener("mousemove",(function(t){e.components.forEach((function(n){var a=n.store,i=t.target;if(a.includes(i)){var r=i.getAttribute("data-value"),o=i.getAttribute("data-date").split("-"),s=V(parseInt(o[1])-1,!0),l=e.container.getBoundingClientRect(),u=i.getBoundingClientRect(),c=parseInt(t.target.getAttribute("width")),d=u.left-l.left+c/2,h=u.top-l.top,p=r+" "+e.countLabel,f=" on "+s+" "+o[0]+", "+o[2];e.tip.setValues(d,h,{name:f,value:p,valueFirst:1},[]),e.tip.showTip()}}))}))}},{key:"renderLegend",value:function(){var e=this;this.legendArea.textContent="";var t=0,n=this.rawChartArgs.radius||0,a=N("subdomain-name",t,12,"Less",{fontSize:11,dy:9});t=30,this.legendArea.appendChild(a),this.colors.slice(0,5).map((function(a,i){var r=M("heatmap-legend-unit",t+15*i,12,pe,n,a);e.legendArea.appendChild(r)}));var i=N("subdomain-name",t+75+3,12,"More",{fontSize:11,dy:9});this.legendArea.appendChild(i)}},{key:"getDomains",value:function(){for(var e=this.state,t=[e.start.getMonth(),e.start.getFullYear()],n=t[0],a=t[1],i=[e.end.getMonth(),e.end.getFullYear()],r=i[0]-n+1+12*(i[1]-a),o=[],s=H(e.start),l=0;l<r;l++){var u=e.end;if(!Y(s,e.end)){var c=[s.getMonth(),s.getFullYear()];u=q(c[0],c[1])}o.push(this.getDomainConfig(s,u)),U(u,1),s=u}return o}},{key:"getDomainConfig",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[e.getMonth(),e.getFullYear()],a=n[0],i=n[1],r=G(e),o={index:a,cols:[]};U(t=H(t)||q(a,i),1);for(var s=B(r,t),l=[],u=void 0,c=0;c<s;c++)u=this.getCol(r,a),l.push(u),U(r=new Date(u[qe-1].yyyyMmDd),1);return void 0!==u[qe-1].dataValue&&(U(r,1),l.push(this.getCol(r,a,!0))),o.cols=l,o}},{key:"getCol",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this.state,i=H(e),r=[],o=0;o<qe;o++,U(i,1)){var s={},l=i>=a.start&&i<=a.end;n||i.getMonth()!==t||!l?s.yyyyMmDd=R(i):s=this.getSubDomainConfig(i),r.push(s)}return r}},{key:"getSubDomainConfig",value:function(e){var t=R(e),n=this.data.dataPoints[t];return{yyyyMmDd:t,dataValue:n||0,fill:this.colors[re(n,this.state.distribution)]}}}]),t}(He),ht=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),pt=function e(t,n,a){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,a)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(a):void 0},ft=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.barOptions=n.barOptions||{},a.lineOptions=n.lineOptions||{},a.type=n.type||"line",a.init=1,a.setup(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ht(t,[{key:"setMeasures",value:function(){this.data.datasets.length<=1&&(this.config.showLegend=0,this.measures.paddings.bottom=30)}},{key:"configure",value:function(e){pt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"configure",this).call(this,e),e.axisOptions=e.axisOptions||{},e.tooltipOptions=e.tooltipOptions||{},this.config.xAxisMode=e.axisOptions.xAxisMode||"span",this.config.yAxisMode=e.axisOptions.yAxisMode||"span",this.config.xIsSeries=e.axisOptions.xIsSeries||0,this.config.shortenYAxisNumbers=e.axisOptions.shortenYAxisNumbers||0,this.config.formatTooltipX=e.tooltipOptions.formatTooltipX,this.config.formatTooltipY=e.tooltipOptions.formatTooltipY,this.config.valuesOverPoints=e.valuesOverPoints}},{key:"prepareData",value:function(){return se(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data,this.type)}},{key:"prepareFirstData",value:function(){return le(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data)}},{key:"calc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.calcXPositions(),e||this.calcYAxisParameters(this.getAllYValues(),"line"===this.type),this.makeDataByIndex()}},{key:"calcXPositions",value:function(){var e=this.state,t=this.data.labels;e.datasetLength=t.length,e.unitWidth=this.width/e.datasetLength,e.xOffset=e.unitWidth/2,e.xAxis={labels:t,positions:t.map((function(t,n){return c(e.xOffset+n*e.unitWidth)}))}}},{key:"calcYAxisParameters",value:function(e){var t=ee(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"false"),n=this.height/ae(t),a=ne(t)*n,i=this.height-te(t)*a;this.state.yAxis={labels:t,positions:t.map((function(e){return i-e*n})),scaleMultiplier:n,zeroLine:i},this.calcDatasetPoints(),this.calcYExtremes(),this.calcYRegions()}},{key:"calcDatasetPoints",value:function(){var e=this.state,t=function(t){return t.map((function(t){return ie(t,e.yAxis)}))};e.datasets=this.data.datasets.map((function(e,n){var a=e.values,i=e.cumulativeYs||[];return{name:e.name&&e.name.replace(/<|>|&/g,(function(e){return"&"==e?"&amp;":"<"==e?"&lt;":"&gt;"})),index:n,chartType:e.chartType,values:a,yPositions:t(a),cumulativeYs:i,cumulativeYPos:t(i)}}))}},{key:"calcYExtremes",value:function(){var e=this.state;this.barOptions.stacked?e.yExtremes=e.datasets[e.datasets.length-1].cumulativeYPos:(e.yExtremes=new Array(e.datasetLength).fill(9999),e.datasets.map((function(t){t.yPositions.map((function(t,n){t<e.yExtremes[n]&&(e.yExtremes[n]=t)}))})))}},{key:"calcYRegions",value:function(){var e=this.state;this.data.yMarkers&&(this.state.yMarkers=this.data.yMarkers.map((function(t){return t.position=ie(t.value,e.yAxis),t.options||(t.options={}),t}))),this.data.yRegions&&(this.state.yRegions=this.data.yRegions.map((function(t){return t.startPos=ie(t.start,e.yAxis),t.endPos=ie(t.end,e.yAxis),t.options||(t.options={}),t})))}},{key:"getAllYValues",value:function(){var e,t=this,n="values";if(this.barOptions.stacked){n="cumulativeYs";var a=new Array(this.state.datasetLength).fill(0);this.data.datasets.map((function(e,i){var r=t.data.datasets[i].values;e[n]=a=a.map((function(e,t){return e+r[t]}))}))}var i=this.data.datasets.map((function(e){return e[n]}));return this.data.yMarkers&&i.push(this.data.yMarkers.map((function(e){return e.value}))),this.data.yRegions&&this.data.yRegions.map((function(e){i.push([e.end,e.start])})),(e=[]).concat.apply(e,ue(i))}},{key:"setupComponents",value:function(){var e=this,t=[["yAxis",{mode:this.config.yAxisMode,width:this.width,shortenNumbers:this.config.shortenYAxisNumbers},function(){return this.state.yAxis}.bind(this)],["xAxis",{mode:this.config.xAxisMode,height:this.height},function(){var e=this.state;return e.xAxis.calcLabels=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=e/t.length;a<=0&&(a=1);var i=a/fe,r=void 0;if(n){var o=Math.max.apply(Math,oe(t.map((function(e){return e.length}))));r=Math.ceil(o/i)}return t.map((function(e,t){return(e+="").length>i&&(n?t%r!=0&&(e=""):e=i-3>0?e.slice(0,i-3)+" ...":e.slice(0,i)+".."),e}))}(this.width,e.xAxis.labels,this.config.xIsSeries),e.xAxis}.bind(this)],["yRegions",{width:this.width,pos:"right"},function(){return this.state.yRegions}.bind(this)]],n=this.state.datasets.filter((function(e){return"bar"===e.chartType})),a=this.state.datasets.filter((function(e){return"line"===e.chartType})),i=n.map((function(t){var a=t.index;return["barGraph-"+t.index,{index:a,color:e.colors[a],stacked:e.barOptions.stacked,valuesOverPoints:e.config.valuesOverPoints,minHeight:0*e.height},function(){var e=this.state,t=e.datasets[a],i=this.barOptions.stacked,r=this.barOptions.spaceRatio||.5,o=e.unitWidth*(1-r),s=o/(i?1:n.length),l=e.xAxis.positions.map((function(e){return e-o/2}));i||(l=l.map((function(e){return e+s*a})));var u=new Array(e.datasetLength).fill("");this.config.valuesOverPoints&&(u=i&&t.index===e.datasets.length-1?t.cumulativeYs:t.values);var c=new Array(e.datasetLength).fill(0);return i&&(c=t.yPositions.map((function(e,n){return e-t.cumulativeYPos[n]}))),{xPositions:l,yPositions:t.yPositions,offsets:c,labels:u,zeroLine:e.yAxis.zeroLine,barsWidth:o,barWidth:s}}.bind(e)]})),r=a.map((function(t){var n=t.index;return["lineGraph-"+t.index,{index:n,color:e.colors[n],svgDefs:e.svgDefs,heatline:e.lineOptions.heatline,regionFill:e.lineOptions.regionFill,spline:e.lineOptions.spline,hideDots:e.lineOptions.hideDots,hideLine:e.lineOptions.hideLine,valuesOverPoints:e.config.valuesOverPoints},function(){var e=this.state,t=e.datasets[n],a=e.yAxis.positions[0]<e.yAxis.zeroLine?e.yAxis.positions[0]:e.yAxis.zeroLine;return{xPositions:e.xAxis.positions,yPositions:t.yPositions,values:t.values,zeroLine:a,radius:this.lineOptions.dotSize||4}}.bind(e)]})),o=[["yMarkers",{width:this.width,pos:"right"},function(){return this.state.yMarkers}.bind(this)]];t=t.concat(i,r,o);var s=["yMarkers","yRegions"];this.dataUnitComponents=[],this.components=new Map(t.filter((function(t){return!s.includes(t[0])||e.state[t[0]]})).map((function(t){var n=J.apply(void 0,ue(t));return(t[0].includes("lineGraph")||t[0].includes("barGraph"))&&e.dataUnitComponents.push(n),[t[0],n]})))}},{key:"makeDataByIndex",value:function(){var e=this;this.dataByIndex={};var t=this.state,n=this.config.formatTooltipX,a=this.config.formatTooltipY;t.xAxis.labels.map((function(i,r){var o=e.state.datasets.map((function(t,n){var i=t.values[r];return{title:t.name,value:i,yPos:t.yPositions[r],color:e.colors[n],formatted:a?a(i):i}}));e.dataByIndex[r]={label:i,formattedLabel:n?n(i):i,xPos:t.xAxis.positions[r],values:o,yExtreme:t.yExtremes[r]}}))}},{key:"bindTooltip",value:function(){var e=this;this.container.addEventListener("mousemove",(function(t){var n=e.measures,i=a(e.container),r=t.pageX-i.left-s(n),l=t.pageY-i.top;l<e.height+o(n)&&l>o(n)?e.mapTooltipXPosition(r):e.tip.hideTip()}))}},{key:"mapTooltipXPosition",value:function(e){var t=this.state;if(t.yExtremes){var n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t.reduce((function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t}),[]);return n?t.indexOf(a):a}(e,t.xAxis.positions,!0);if(n>=0){var a=this.dataByIndex[n];this.tip.setValues(a.xPos+this.tip.offset.x,a.yExtreme+this.tip.offset.y,{name:a.formattedLabel,value:""},a.values,n),this.tip.showTip()}}}},{key:"renderLegend",value:function(){var e=this,t=this.data;t.datasets.length>1&&(this.legendArea.textContent="",t.datasets.map((function(t,n){var a=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",i=arguments[4];i=arguments.length>5&&void 0!==arguments[5]&&arguments[5]?g(i,Se):i;var r={className:"legend-bar",x:0,y:0,width:n,height:"2px",fill:a},o=A("text",{className:"legend-dataset-text",x:0,y:0,dy:2*Te+"px","font-size":1.2*Te+"px","text-anchor":"start",fill:Me,innerHTML:i}),s=A("g",{transform:"translate("+e+", "+t+")"});return s.appendChild(A("rect",r)),s.appendChild(o),s}(100*n,"0",100,e.colors[n],t.name,e.config.truncateLegends);e.legendArea.appendChild(a)})))}},{key:"makeOverlay",value:function(){var e=this;this.init?this.init=0:(this.overlayGuides&&this.overlayGuides.forEach((function(e){var t=e.overlay;t.parentNode.removeChild(t)})),this.overlayGuides=this.dataUnitComponents.map((function(e){return{type:e.unitType,overlay:void 0,units:e.units}})),void 0===this.state.currentIndex&&(this.state.currentIndex=this.state.datasetLength-1),this.overlayGuides.map((function(t){var n=t.units[e.state.currentIndex];t.overlay=Ne[t.type](n),e.drawArea.appendChild(t.overlay)})))}},{key:"updateOverlayGuides",value:function(){this.overlayGuides&&this.overlayGuides.forEach((function(e){var t=e.overlay;t.parentNode.removeChild(t)}))}},{key:"bindOverlay",value:function(){var e=this;this.parent.addEventListener("data-select",(function(){e.updateOverlay()}))}},{key:"bindUnits",value:function(){var e=this;this.dataUnitComponents.map((function(t){t.units.map((function(t){t.addEventListener("click",(function(){var n=t.getAttribute("data-point-index");e.setCurrentDataPoint(n)}))}))})),this.tip.container.addEventListener("click",(function(){var t=e.tip.container.getAttribute("data-point-index");e.setCurrentDataPoint(t)}))}},{key:"updateOverlay",value:function(){var e=this;this.overlayGuides.map((function(t){var n=t.units[e.state.currentIndex];De[t.type](n,t.overlay)}))}},{key:"onLeftArrow",value:function(){this.setCurrentDataPoint(this.state.currentIndex-1)}},{key:"onRightArrow",value:function(){this.setCurrentDataPoint(this.state.currentIndex+1)}},{key:"getDataPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.currentIndex,t=this.state;return{index:e,label:t.xAxis.labels[e],values:t.datasets.map((function(t){return t.values[e]}))}}},{key:"setCurrentDataPoint",value:function(e){var t=this.state;(e=parseInt(e))<0&&(e=0),e>=t.xAxis.labels.length&&(e=t.xAxis.labels.length-1),e!==t.currentIndex&&(t.currentIndex=e,function(e,t,n){var a=document.createEvent("HTMLEvents");for(var i in a.initEvent(t,!0,!0),n)a[i]=n[i];e.dispatchEvent(a)}(this.parent,"data-select",this.getDataPoint()))}},{key:"addDataPoint",value:function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.datasetLength;pt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addDataPoint",this).call(this,e,n,a),this.data.labels.splice(a,0,e),this.data.datasets.map((function(e,t){e.values.splice(a,0,n[t])})),this.update(this.data)}},{key:"removeDataPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.datasetLength-1;this.data.labels.length<=1||(pt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeDataPoint",this).call(this,e),this.data.labels.splice(e,1),this.data.datasets.map((function(t){t.values.splice(e,1)})),this.update(this.data))}},{key:"updateDataset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.data.datasets[t].values=e,this.update(this.data)}},{key:"updateDatasets",value:function(e){this.data.datasets.map((function(t,n){e[n]&&(t.values=e[n])})),this.update(this.data)}}]),t}(He),vt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),mt=function e(t,n,a){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,a)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(a):void 0},gt=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.type="donut",a.initTimeout=0,a.init=1,a.setup(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),vt(t,[{key:"configure",value:function(e){mt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"configure",this).call(this,e),this.mouseMove=this.mouseMove.bind(this),this.mouseLeave=this.mouseLeave.bind(this),this.hoverRadio=e.hoverRadio||.1,this.config.startAngle=e.startAngle||0,this.clockWise=e.clockWise||!1,this.strokeWidth=e.strokeWidth||30}},{key:"calc",value:function(){var e=this;mt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"calc",this).call(this);var n=this.state;this.radius=this.height>this.width?this.center.x-this.strokeWidth/2:this.center.y-this.strokeWidth/2;var a=this.radius,i=this.clockWise,r=n.slicesProperties||[];n.sliceStrings=[],n.slicesProperties=[];var o=180-this.config.startAngle;n.sliceTotals.map((function(t,s){var l=o,u=t/n.grandTotal*360,c=u>180?1:0,d=i?-u:u,h=o+=d,f=p(l,a),v=p(h,a),m=e.init&&r[s],g=void 0,y=void 0;e.init?(g=m?m.startPosition:f,y=m?m.endPosition:f):(g=f,y=v);var b=360===u?function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=n.x+e.x,s=n.y+e.y,l=n.x+t.x,u=2*a+s,c=n.y+e.y;return"M"+o+" "+s+"\n\t\tA "+a+" "+a+" 0 "+r+" "+(i?1:0)+"\n\t\t"+l+" "+u+"\n\t\tM"+o+" "+u+"\n\t\tA "+a+" "+a+" 0 "+r+" "+(i?1:0)+"\n\t\t"+l+" "+c}(g,y,e.center,e.radius,e.clockWise,c):function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=n.x+e.x,s=n.y+e.y,l=n.x+t.x,u=n.y+t.y;return"M"+o+" "+s+"\n\t\tA "+a+" "+a+" 0 "+r+" "+(i?1:0)+"\n\t\t"+l+" "+u}(g,y,e.center,e.radius,e.clockWise,c);n.sliceStrings.push(b),n.slicesProperties.push({startPosition:f,endPosition:v,value:t,total:n.grandTotal,startAngle:l,endAngle:h,angle:d})})),this.init=0}},{key:"setupComponents",value:function(){var e=this.state,t=[["donutSlices",{},function(){return{sliceStrings:e.sliceStrings,colors:this.colors,strokeWidth:this.strokeWidth}}.bind(this)]];this.components=new Map(t.map((function(e){var t=J.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e));return[e[0],t]})))}},{key:"calTranslateByAngle",value:function(e){var t=this.radius,n=this.hoverRadio,a=p(e.startAngle+e.angle/2,t);return"translate3d("+a.x*n+"px,"+a.y*n+"px,0)"}},{key:"hoverSlice",value:function(e,t,n,i){if(e){var r=this.colors[t];if(n){j(e,this.calTranslateByAngle(this.state.slicesProperties[t])),e.style.stroke=x(r,50);var o=a(this.svg),s=i.pageX-o.left+10,l=i.pageY-o.top-10,u=(this.formatted_labels&&this.formatted_labels.length>0?this.formatted_labels[t]:this.state.labels[t])+": ",c=(100*this.state.sliceTotals[t]/this.state.grandTotal).toFixed(1);this.tip.setValues(s,l,{name:u,value:c+"%"}),this.tip.showTip()}else j(e,"translate3d(0,0,0)"),this.tip.hideTip(),e.style.stroke=r}}},{key:"bindTooltip",value:function(){this.container.addEventListener("mousemove",this.mouseMove),this.container.addEventListener("mouseleave",this.mouseLeave)}},{key:"mouseMove",value:function(e){var t=e.target,n=this.components.get("donutSlices").store,a=this.curActiveSliceIndex,i=this.curActiveSlice;if(n.includes(t)){var r=n.indexOf(t);this.hoverSlice(i,a,!1),this.curActiveSlice=t,this.curActiveSliceIndex=r,this.hoverSlice(t,r,!0,e)}else this.mouseLeave()}},{key:"mouseLeave",value:function(){this.hoverSlice(this.curActiveSlice,this.curActiveSliceIndex,!1)}}]),t}(Ve),yt={bar:ft,line:ft,percentage:at,heatmap:dt,pie:ot,donut:gt};t.Chart=function e(t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"line",t=arguments[1],n=arguments[2];return"axis-mixed"===e?(n.type="line",new ft(t,n)):yt[e]?new yt[e](t,n):void console.error("Undefined chart type: "+e)}(n.type,t,n)},t.PercentageChart=at,t.PieChart=ot,t.Heatmap=dt,t.AxisChart=ft}(ve={path:fe,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&ve.path)}},ve.exports),ve.exports);function ge(t){let n;return{c(){n=g("div")},m(e,a){f(e,n,a),t[17](n)},p:e,i:e,o:e,d(e){e&&v(n),t[17](null)}}}function ye(e,t,n){let a,{data:i={labels:[],datasets:[{values:[]}],yMarkers:{},yRegions:[]}}=t,{title:r=""}=t,{type:o="line"}=t,{height:s=300}=t,{animate:l=!0}=t,{axisOptions:u={}}=t,{barOptions:c={}}=t,{lineOptions:d={}}=t,{tooltipOptions:h={}}=t,{colors:p=[]}=t,{valuesOverPoints:f=0}=t,{isNavigable:v=!1}=t,{maxSlices:m=3}=t,g=null;function y(e){return function(...t){if(g)return e(...t)}}const b=y(((e,t,n)=>g.addDataPoint(e,t,n))),w=y((e=>g.removeDataPoint(e))),x=y((()=>g.export()));return function(e){F().$$.on_mount.push(e)}((()=>{g=new me.Chart(a,{data:i,title:r,type:o,height:s,animate:l,colors:p,axisOptions:u,barOptions:c,lineOptions:d,tooltipOptions:h,valuesOverPoints:f,isNavigable:v,maxSlices:m})})),function(e){F().$$.after_update.push(e)}((()=>g.update(i))),function(e){F().$$.on_destroy.push(e)}((()=>{g=null})),e.$$set=e=>{"data"in e&&n(1,i=e.data),"title"in e&&n(2,r=e.title),"type"in e&&n(3,o=e.type),"height"in e&&n(4,s=e.height),"animate"in e&&n(5,l=e.animate),"axisOptions"in e&&n(6,u=e.axisOptions),"barOptions"in e&&n(7,c=e.barOptions),"lineOptions"in e&&n(8,d=e.lineOptions),"tooltipOptions"in e&&n(9,h=e.tooltipOptions),"colors"in e&&n(10,p=e.colors),"valuesOverPoints"in e&&n(11,f=e.valuesOverPoints),"isNavigable"in e&&n(12,v=e.isNavigable),"maxSlices"in e&&n(13,m=e.maxSlices)},[a,i,r,o,s,l,u,c,d,h,p,f,v,m,b,w,x,function(e){I[e?"unshift":"push"]((()=>{a=e,n(0,a)}))}]}class be extends ue{constructor(e){super(),le(this,e,ye,ge,s,{data:1,title:2,type:3,height:4,animate:5,axisOptions:6,barOptions:7,lineOptions:8,tooltipOptions:9,colors:10,valuesOverPoints:11,isNavigable:12,maxSlices:13,addDataPoint:14,removeDataPoint:15,exportChart:16})}get addDataPoint(){return this.$$.ctx[14]}get removeDataPoint(){return this.$$.ctx[15]}get exportChart(){return this.$$.ctx[16]}}function we(e,t,n){const a=e.slice();return a[71]=t[n],a[73]=n,a}function xe(t){let n,a,i;return{c(){n=g("span"),n.textContent="",A(n,"class","autocomplete-clear-button svelte-17gke0z")},m(e,r){f(e,n,r),a||(i=x(n,"click",t[26]),a=!0)},p:e,d(e){e&&v(n),a=!1,i()}}}function ke(e){let t,n;return{c(){t=g("div"),n=y(e[1]),A(t,"class","autocomplete-list-item-no-results svelte-17gke0z")},m(e,a){f(e,t,a),p(t,n)},p(e,t){2&t[0]&&O(n,e[1])},d(e){e&&v(t)}}}function Ae(e){let t,n,a=e[16],i=[];for(let t=0;t<a.length;t+=1)i[t]=Pe(we(e,a,t));let r=e[0]>0&&e[16].length>e[0]&&Me(e);return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=b(),r&&r.c(),n=w()},m(e,a){for(let t=0;t<i.length;t+=1)i[t].m(e,a);f(e,t,a),r&&r.m(e,a),f(e,n,a)},p(e,o){if(622593&o[0]){let n;for(a=e[16],n=0;n<a.length;n+=1){const r=we(e,a,n);i[n]?i[n].p(r,o):(i[n]=Pe(r),i[n].c(),i[n].m(t.parentNode,t))}for(;n<i.length;n+=1)i[n].d(1);i.length=a.length}e[0]>0&&e[16].length>e[0]?r?r.p(e,o):(r=Me(e),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(e){m(i,e),e&&v(t),r&&r.d(e),e&&v(n)}}}function Ce(e){let t,n=e[71]&&Oe(e);return{c(){n&&n.c(),t=w()},m(e,a){n&&n.m(e,a),f(e,t,a)},p(e,a){e[71]?n?n.p(e,a):(n=Oe(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&v(t)}}}function Oe(e){let t,n,a,i;function r(e,t){return e[71].highlighted?Te:Se}let o=r(e),s=o(e);function l(){return e[48](e[71])}return{c(){t=g("div"),s.c(),A(t,"class",n="autocomplete-list-item "+(e[73]===e[15]?"selected":"")+" svelte-17gke0z")},m(e,n){f(e,t,n),s.m(t,null),a||(i=x(t,"click",l),a=!0)},p(a,i){o===(o=r(e=a))&&s?s.p(e,i):(s.d(1),s=o(e),s&&(s.c(),s.m(t,null))),32768&i[0]&&n!==(n="autocomplete-list-item "+(e[73]===e[15]?"selected":"")+" svelte-17gke0z")&&A(t,"class",n)},d(e){e&&v(t),s.d(),a=!1,i()}}}function Se(e){let t,n,a=e[71].label+"";return{c(){n=w(),t=new M(n)},m(e,i){t.m(a,e,i),f(e,n,i)},p(e,n){65536&n[0]&&a!==(a=e[71].label+"")&&t.p(a)},d(e){e&&v(n),e&&t.d()}}}function Te(e){let t,n,a=e[71].highlighted.label+"";return{c(){n=w(),t=new M(n)},m(e,i){t.m(a,e,i),f(e,n,i)},p(e,n){65536&n[0]&&a!==(a=e[71].highlighted.label+"")&&t.p(a)},d(e){e&&v(n),e&&t.d()}}}function Pe(e){let t,n=e[71]&&(e[0]<=0||e[73]<e[0])&&Ce(e);return{c(){n&&n.c(),t=w()},m(e,a){n&&n.m(e,a),f(e,t,a)},p(e,a){e[71]&&(e[0]<=0||e[73]<e[0])?n?n.p(e,a):(n=Ce(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&v(t)}}}function Me(e){let t,n,a,i,r=e[16].length-e[0]+"";return{c(){t=g("div"),n=y("..."),a=y(r),i=y(" results not shown"),A(t,"class","autocomplete-list-item-no-results svelte-17gke0z")},m(e,r){f(e,t,r),p(t,n),p(t,a),p(t,i)},p(e,t){65537&t[0]&&r!==(r=e[16].length-e[0]+"")&&O(a,r)},d(e){e&&v(t)}}}function Ne(t){let n,a,i,o,s,l,u,c,d,h,m,y=t[9]&&xe(t);function w(e,t){return e[16]&&e[16].length>0?Ae:e[1]?ke:void 0}let k=w(t),C=k&&k(t);return{c(){n=g("div"),a=g("input"),s=b(),y&&y.c(),l=b(),u=g("div"),C&&C.c(),A(a,"type","text"),A(a,"class",i=(t[4]?t[4]:"")+" input autocomplete-input svelte-17gke0z"),A(a,"id",o=t[5]?t[5]:""),A(a,"placeholder",t[2]),A(a,"name",t[6]),a.disabled=t[10],A(a,"title",t[11]),A(u,"class",c=(t[7]?t[7]:"")+" autocomplete-list "+(t[17]?"":"hidden")+"\n    is-fullwidth svelte-17gke0z"),A(n,"class",d=(t[3]?t[3]:"")+"\n  "+(t[8]?"hide-arrow is-multiple":"")+"\n  "+(t[9]?"show-clear":"")+" autocomplete select is-fullwidth "+t[18]+" svelte-17gke0z")},m(e,i){f(e,n,i),p(n,a),t[46](a),S(a,t[12]),p(n,s),y&&y.m(n,null),p(n,l),p(n,u),C&&C.m(u,null),t[49](u),h||(m=[x(window,"click",t[20]),x(a,"input",t[47]),x(a,"input",t[23]),x(a,"focus",t[25]),x(a,"keydown",t[21]),x(a,"click",t[24]),x(a,"keypress",t[22])],h=!0)},p(e,t){16&t[0]&&i!==(i=(e[4]?e[4]:"")+" input autocomplete-input svelte-17gke0z")&&A(a,"class",i),32&t[0]&&o!==(o=e[5]?e[5]:"")&&A(a,"id",o),4&t[0]&&A(a,"placeholder",e[2]),64&t[0]&&A(a,"name",e[6]),1024&t[0]&&(a.disabled=e[10]),2048&t[0]&&A(a,"title",e[11]),4096&t[0]&&a.value!==e[12]&&S(a,e[12]),e[9]?y?y.p(e,t):(y=xe(e),y.c(),y.m(n,l)):y&&(y.d(1),y=null),k===(k=w(e))&&C?C.p(e,t):(C&&C.d(1),C=k&&k(e),C&&(C.c(),C.m(u,null))),131200&t[0]&&c!==(c=(e[7]?e[7]:"")+" autocomplete-list "+(e[17]?"":"hidden")+"\n    is-fullwidth svelte-17gke0z")&&A(u,"class",c),776&t[0]&&d!==(d=(e[3]?e[3]:"")+"\n  "+(e[8]?"hide-arrow is-multiple":"")+"\n  "+(e[9]?"show-clear":"")+" autocomplete select is-fullwidth "+e[18]+" svelte-17gke0z")&&A(n,"class",d)},i:e,o:e,d(e){e&&v(n),t[46](null),y&&y.d(),C&&C.d(),t[49](null),h=!1,r(m)}}}function De(e,t){let n;"function"!=typeof e&&console.error("Not a function: "+e+", argument: "+t);try{n=e(t)}catch(n){console.warn("Error executing Autocomplete function on value: "+t+" function: "+e)}let a=n;return null==a&&(a=""),"string"!=typeof a&&(a=a.toString()),a}function Le(e,t,n){let a,{items:r=[]}=t,{labelFieldName:o}=t,{keywordsFieldName:s=o}=t,{valueFieldName:l}=t,{labelFunction:u=function(e){return null==e?"":o?e[o]:e}}=t,{keywordsFunction:c=function(e){return null==e?"":s?e[s]:u(e)}}=t,{valueFunction:d=function(e){return null==e?e:l?e[l]:e}}=t,{keywordsCleanFunction:h=function(e){return e}}=t,{textCleanFunction:p=function(e){return e}}=t,{searchFunction:f=!1}=t,{beforeChange:v=function(e,t){return!0}}=t,{onChange:m=function(e){}}=t,{selectFirstIfEmpty:g=!1}=t,{minCharactersToSearch:y=1}=t,{maxItemsToShowInList:b=0}=t,{noResultsText:w="No results found"}=t;const x="sautocomplete-"+Math.floor(1e3*Math.random());function k(e){return De(u,e)}function A(e){const t=De(c,e);let n=De(h,t);return n=n.toLowerCase().trim(),j&&console.log("Extracted keywords: '"+n+"' from item: "+JSON.stringify(e)),n}let C,O,S,{placeholder:T}=t,{className:P}=t,{inputClassName:M}=t,{inputId:N}=t,{name:D}=t,{dropdownClassName:L}=t,{hideArrow:E=!1}=t,{showClear:_=!1}=t,{disabled:$=!1}=t,{title:F}=t,{debug:j=!1}=t,{selectedItem:z}=t,{value:W}=t,R=0;let H,B=!1,Y=-1,V=[];function q(){let e;j&&(e=performance.now(),console.log("prepare items to search"),console.log("items: "+JSON.stringify(r))),Array.isArray(r)||(console.warn("Autocomplete items / search function did not return array but",r),n(27,r=[]));const t=r?r.length:0;if(V=new Array(t),t>0&&r.forEach(((e,t)=>{const n=function(e){return{keywords:A(e),label:k(e),item:e}}(e);null==n&&console.log("Undefined item for: ",e),V[t]=n})),j){const t=performance.now();console.log(V.length+" items to search prepared in "+(t-e)+" milliseconds")}}async function G(){let e;j&&(e=performance.now(),console.log("Searching user entered text: '"+C+"'"));const t=function(e){if(null==e)return"";const t=e.replace(/[&/\\#,+()$~%.'":*?<>{}]/g," ").trim();if(n(44,R=t.length),y>1&&R<y)return"";const a=p(t).toLowerCase().trim();return j&&console.log("Change user entered text '"+e+"' into '"+a+"'"),a}(C);if(""===t)return n(16,H=V),re(),void(j&&console.log("User entered text is empty set the list of items to all items"));f&&(n(27,r=await f(t)),q());const a=t.split(" ");let i=V.filter((e=>{if(!e)return!1;const t=e.keywords;let n=0;return a.forEach((e=>{t.includes(e)&&n++})),n>=a.length}));const o=oe(t,["label"]),s=i.map(o);if(n(16,H=s),re(),j){const t=performance.now();console.log("Search took "+(t-e)+" milliseconds, found "+H.length+" items")}}function U(e){if(j&&console.log("selectListItem"),void 0===e)return j&&console.log(`listItem ${i} is undefined. Can not select.`),!1;const t=e.item;return v(z,t)&&n(28,z=t),!0}function J(){j&&console.log("selectItem");U(H[Y])&&ae()}function X(){j&&console.log("up"),ne(),Y>0&&n(15,Y--,Y),Z()}function K(){j&&console.log("down"),ne(),Y<H.length-1&&n(15,Y++,Y),Z()}function Z(){j&&console.log("highlight");const e=".selected";j&&console.log("Seaching DOM element: .selected in "+S);const t=S.querySelector(e);t?"function"==typeof t.scrollIntoViewIfNeeded?(j&&console.log("Scrolling selected item into view"),t.scrollIntoViewIfNeeded()):j&&console.warn("Could not scroll selected item into view, scrollIntoViewIfNeeded not supported"):j&&console.warn("Selected item not found to scroll into view")}function Q(e){j&&console.log("onListItemClick"),U(e)&&ae()}function ee(e){j&&console.log("onEsc"),e.stopPropagation(),B&&(O.focus(),ae())}function te(){if(j&&console.log("resetListToAllItemsAndOpen"),n(16,H=V),ne(),z){j&&console.log("Searching currently selected item: "+JSON.stringify(z));for(let e=0;e<V.length;e++){const t=V[e];if(void 0!==t){if(j&&console.log("Item "+e+": "+JSON.stringify(t)),z==t.item){n(15,Y=e),j&&console.log("Found selected item: "+e+": "+JSON.stringify(t)),Z();break}}else j&&console.log(`listItem ${e} is undefined. Skipping.`)}}}function ne(){j&&console.log("open"),ie()||n(45,B=!0)}function ae(){j&&console.log("close"),n(45,B=!1),!C&&g&&(oe=0,J())}function ie(){return y>1&&R<y}function re(){ie()&&ae()}function oe(e,t){const n="("+e.trim().replace(/\s/g,")(.*)(")+")",a=new RegExp(n,"ig");let i=1;const r=n.split(")(").length+1;let o="";for(;i<r;i++)o+=i%2?`<b>$${i}</b>`:`$${i}`;return e=>{const n=Object.assign({highlighted:{}},e);return t&&t.forEach((e=>{n[e]&&(n.highlighted[e]=n[e].replace(a,o))})),n}}return e.$$set=e=>{"items"in e&&n(27,r=e.items),"labelFieldName"in e&&n(30,o=e.labelFieldName),"keywordsFieldName"in e&&n(31,s=e.keywordsFieldName),"valueFieldName"in e&&n(32,l=e.valueFieldName),"labelFunction"in e&&n(33,u=e.labelFunction),"keywordsFunction"in e&&n(34,c=e.keywordsFunction),"valueFunction"in e&&n(35,d=e.valueFunction),"keywordsCleanFunction"in e&&n(36,h=e.keywordsCleanFunction),"textCleanFunction"in e&&n(37,p=e.textCleanFunction),"searchFunction"in e&&n(38,f=e.searchFunction),"beforeChange"in e&&n(39,v=e.beforeChange),"onChange"in e&&n(40,m=e.onChange),"selectFirstIfEmpty"in e&&n(41,g=e.selectFirstIfEmpty),"minCharactersToSearch"in e&&n(42,y=e.minCharactersToSearch),"maxItemsToShowInList"in e&&n(0,b=e.maxItemsToShowInList),"noResultsText"in e&&n(1,w=e.noResultsText),"placeholder"in e&&n(2,T=e.placeholder),"className"in e&&n(3,P=e.className),"inputClassName"in e&&n(4,M=e.inputClassName),"inputId"in e&&n(5,N=e.inputId),"name"in e&&n(6,D=e.name),"dropdownClassName"in e&&n(7,L=e.dropdownClassName),"hideArrow"in e&&n(8,E=e.hideArrow),"showClear"in e&&n(9,_=e.showClear),"disabled"in e&&n(10,$=e.disabled),"title"in e&&n(11,F=e.title),"debug"in e&&n(43,j=e.debug),"selectedItem"in e&&n(28,z=e.selectedItem),"value"in e&&n(29,W=e.value)},e.$$.update=()=>{268435456&e.$$.dirty[0]&&(n(29,W=d(z)),n(12,C=k(z)),m(z)),134217728&e.$$.dirty[0]|24576&e.$$.dirty[1]&&n(17,a=B&&(r&&r.length>0||R>0)),134217728&e.$$.dirty[0]&&q()},[b,w,T,P,M,N,D,L,E,_,$,F,C,O,S,Y,H,a,x,Q,function(e){j&&console.log("onDocumentClick: "+JSON.stringify(e.target)),e.target.closest("."+x)?(j&&console.log("onDocumentClick inside"),Z()):(j&&console.log("onDocumentClick outside"),ae())},function(e){j&&console.log("onKeyDown");let t=e.key;"Tab"===t&&e.shiftKey&&(t="ShiftTab");const n={Tab:B?K.bind(this):null,ShiftTab:B?X.bind(this):null,ArrowDown:K.bind(this),ArrowUp:X.bind(this),Escape:ee.bind(this)}[t];"function"==typeof n&&(e.preventDefault(),n(e))},function(e){j&&console.log("onKeyPress"),"Enter"===e.key&&(e.preventDefault(),J())},function(e){j&&console.log("onInput"),n(12,C=e.target.value),G(),n(15,Y=0),ne()},function(){j&&console.log("onInputClick"),te()},function(){j&&console.log("onFocus"),te()},function(){j&&console.log("clear"),n(12,C=""),n(28,z=void 0),setTimeout((()=>{O.focus(),ae()}))},r,z,W,o,s,l,u,c,d,h,p,f,v,m,g,y,j,R,B,function(e){I[e?"unshift":"push"]((()=>{O=e,n(13,O)}))},function(){C=this.value,n(12,C)},e=>Q(e),function(e){I[e?"unshift":"push"]((()=>{S=e,n(14,S)}))}]}class Ee extends ue{constructor(e){super(),le(this,e,Le,Ne,s,{items:27,labelFieldName:30,keywordsFieldName:31,valueFieldName:32,labelFunction:33,keywordsFunction:34,valueFunction:35,keywordsCleanFunction:36,textCleanFunction:37,searchFunction:38,beforeChange:39,onChange:40,selectFirstIfEmpty:41,minCharactersToSearch:42,maxItemsToShowInList:0,noResultsText:1,placeholder:2,className:3,inputClassName:4,inputId:5,name:6,dropdownClassName:7,hideArrow:8,showClear:9,disabled:10,title:11,debug:43,selectedItem:28,value:29},[-1,-1,-1])}}let _e=[{name:"Abi-Dalzim's Horrid Wilting",level:8,basedamage:new pe(12,8),perlevel:new pe(0,0)},{name:"Aganazzar's Scorcher",level:2,basedamage:new pe(3,8),perlevel:new pe(1,8)},{name:"Alter Self",level:2,basedamage:new pe(1,6),perlevel:new pe(0,0)},{name:"Animate Objects (Tiny)",level:5,basedamage:new pe(10,4),perlevel:new pe(2,4)},{name:"Animate Objects (Small)",level:5,basedamage:new pe(10,8),perlevel:new pe(2,8)},{name:"Animate Objects (Medium)",level:5,basedamage:new pe(10,6),perlevel:new pe(2,6)},{name:"Animate Objects (Large)",level:5,basedamage:new pe(2.5,10),perlevel:new pe(.5,10)},{name:"Animate Objects (Huge)",level:5,basedamage:new pe(2.25,12),perlevel:new pe(.25,12)},{name:"Armor of Agathys",level:1,basedamage:new pe(5,1),perlevel:new pe(5,1)},{name:"Arms of Hadar",level:1,basedamage:new pe(2,6),perlevel:new pe(1,6)},{name:"Banishing Smite",level:5,basedamage:new pe(5,10),perlevel:new pe(0,0)},{name:"Bigby's Hand (Clench)",level:5,basedamage:new pe(4,8),perlevel:new pe(2,8)},{name:"Bigby's Hand (Grasp)",level:5,basedamage:new pe(2,6),perlevel:new pe(2,6)},{name:"Blade Barrier",level:5,basedamage:new pe(6,10),perlevel:new pe(0,0)},{name:"Blade of Disaster",level:9,basedamage:new pe(4,12),perlevel:new pe(0,0)},{name:"Blade of Disaster (Crit)",level:9,basedamage:new pe(12,12),perlevel:new pe(0,0)},{name:"Blight",level:4,basedamage:new pe(8,8),perlevel:new pe(1,8)},{name:"Blinding Smite",level:3,basedamage:new pe(3,8),perlevel:new pe(0,0)},{name:"Bones of the Earth",level:6,basedamage:new pe(36,6),perlevel:new pe(2,6)},{name:"Branding Smite",level:2,basedamage:new pe(2,6),perlevel:new pe(1,6)},{name:"Burning Hands",level:1,basedamage:new pe(3,6),perlevel:new pe(1,6)},{name:"Call Lightning",level:3,basedamage:new pe(3,10),perlevel:new pe(1,10)},{name:"Call Lightning (Storm)",level:3,basedamage:new pe(4,10),perlevel:new pe(1,10)},{name:"Catapult",level:1,basedamage:new pe(3,8),perlevel:new pe(1,8)},{name:"Chain Lightning",level:6,basedamage:new pe(40,8),perlevel:new pe(10,8)},{name:"Chromatic Orb",level:1,basedamage:new pe(3,8),perlevel:new pe(1,8)},{name:"Circle of Death",level:6,basedamage:new pe(8,6),perlevel:new pe(2,6)},{name:"Cloud of Daggers",level:2,basedamage:new pe(4,4),perlevel:new pe(2,4)},{name:"Cloudkill",level:5,basedamage:new pe(5,8),perlevel:new pe(1,8)},{name:"Cone of Cold",level:5,basedamage:new pe(8,8),perlevel:new pe(1,8)},{name:"Control Water",level:4,basedamage:new pe(2,8),perlevel:new pe(0,0)},{name:"Cordon of Arrows",level:2,basedamage:new pe(4,6),perlevel:new pe(2,6)},{name:"Crown of Stars",level:7,basedamage:new pe(28,12),perlevel:new pe(8,12)},{name:"Crusader's Mantle",level:3,basedamage:new pe(1,4),perlevel:new pe(0,0)},{name:"Dark Star",level:8,basedamage:new pe(8,10),perlevel:new pe(0,0)},{name:"Dawn",level:5,basedamage:new pe(4,10),perlevel:new pe(0,0)},{name:"Delayed Blast Fireball",level:7,basedamage:new pe(12,6),perlevel:new pe(1,6)},{name:"Destructive Wave",level:5,basedamage:new pe(10,6),perlevel:new pe(0,0)},{name:"Disintegrate",level:6,basedamage:new pe(10,6),perlevel:new pe(3,6)},{name:"Dissonant Whispers",level:1,basedamage:new pe(3,6),perlevel:new pe(1,6)},{name:"Divine Favor",level:1,basedamage:new pe(1,4),perlevel:new pe(0,0)},{name:"Dragon's Breath",level:2,basedamage:new pe(3,6),perlevel:new pe(1,6)},{name:"Dream",level:5,basedamage:new pe(3,6),perlevel:new pe(0,0)},{name:"Dust Devil",level:2,basedamage:new pe(1,8),perlevel:new pe(1,8)},{name:"Earth Tremor",level:1,basedamage:new pe(1,6),perlevel:new pe(1,6)},{name:"Enervation",level:5,basedamage:new pe(4,8),perlevel:new pe(1,8)},{name:"Ensnaring Strike",level:1,basedamage:new pe(1,6),perlevel:new pe(1,6)},{name:"Erupting Earth",level:3,basedamage:new pe(3,12),perlevel:new pe(1,12)},{name:"Evard's Black Tentacles",level:4,basedamage:new pe(3,6),perlevel:new pe(0,0)},{name:"Feeblemind",level:8,basedamage:new pe(4,6),perlevel:new pe(0,0)},{name:"Finger of Death",level:7,basedamage:new pe(7,8),perlevel:new pe(0,0)},{name:"Fire Shield",level:4,basedamage:new pe(2,8),perlevel:new pe(0,0)},{name:"Fire Storm",level:7,basedamage:new pe(7,10),perlevel:new pe(0,0)},{name:"Fireball",level:3,basedamage:new pe(8,6),perlevel:new pe(1,6)},{name:"Flame Arrows",level:3,basedamage:new pe(12,6),perlevel:new pe(2,6)},{name:"Flame Blade",level:2,basedamage:new pe(3,6),perlevel:new pe(.5,6)},{name:"Flame Strike",level:5,basedamage:new pe(8,6),perlevel:new pe(1,6)},{name:"Flaming Sphere",level:2,basedamage:new pe(2,6),perlevel:new pe(1,6)},{name:"Floquardts Frosty Fireball",level:3,basedamage:new pe(4,8),perlevel:new pe(1,8)},{name:"Forbiddance",level:6,basedamage:new pe(5,10),perlevel:new pe(0,0)},{name:"Frost Fingers",level:1,basedamage:new pe(2,8),perlevel:new pe(1,8)},{name:"Geas",level:5,basedamage:new pe(5,10),perlevel:new pe(0,0)},{name:"Glyph of Warding",level:3,basedamage:new pe(5,8),perlevel:new pe(1,8)},{name:"Gravity Fissure",level:8,basedamage:new pe(8,8),perlevel:new pe(1,8)},{name:"Gravity Sinkhole",level:4,basedamage:new pe(5,10),perlevel:new pe(1,10)},{name:"Guardian of Nature",level:4,basedamage:new pe(1,6),perlevel:new pe(0,0)},{name:"Guiding Bolt",level:1,basedamage:new pe(4,6),perlevel:new pe(1,6)},{name:"Hail of Thorns",level:1,basedamage:new pe(1,10),perlevel:new pe(1,10)},{name:"Harm",level:6,basedamage:new pe(14,6),perlevel:new pe(0,0)},{name:"Heat Metal",level:2,basedamage:new pe(2,8),perlevel:new pe(1,8)},{name:"Hellish Rebuke",level:1,basedamage:new pe(2,10),perlevel:new pe(1,10)},{name:"Hex",level:1,basedamage:new pe(1,6),perlevel:new pe(0,0)},{name:"Holy Weapon (Attack)",level:5,basedamage:new pe(2,8),perlevel:new pe(0,0)},{name:"Holy Weapon (Special)",level:5,basedamage:new pe(4,8),perlevel:new pe(0,0)},{name:"Hunger of Hadar",level:3,basedamage:new pe(2,6),perlevel:new pe(0,0)},{name:"Ice Knife (Attack)",level:1,basedamage:new pe(1,10),perlevel:new pe(0,0)},{name:"Ice Knife (Special)",level:1,basedamage:new pe(2,6),perlevel:new pe(1,6)},{name:"Illusory Dragon",level:8,basedamage:new pe(7,6),perlevel:new pe(0,0)},{name:"Immolation",level:5,basedamage:new pe(8,6),perlevel:new pe(0,0)},{name:"Incendiary Cloud",level:8,basedamage:new pe(10,8),perlevel:new pe(0,0)},{name:"Inflict Wounds",level:1,basedamage:new pe(3,10),perlevel:new pe(1,10)},{name:"Insect Plague",level:5,basedamage:new pe(5,10),perlevel:new pe(1,10)},{name:"Investiture of Flame",level:6,basedamage:new pe(4,8),perlevel:new pe(0,0)},{name:"Investiture of Ice",level:6,basedamage:new pe(4,6),perlevel:new pe(0,0)},{name:"Investiture of Wind",level:6,basedamage:new pe(2,10),perlevel:new pe(0,0)},{name:"Lightning Arrow",level:3,basedamage:new pe(4,8),perlevel:new pe(1,8)},{name:"Lightning Bolt",level:3,basedamage:new pe(8,6),perlevel:new pe(1,6)},{name:"Maddening Darkness",level:8,basedamage:new pe(8,8),perlevel:new pe(0,0)},{name:"Maelstrom",level:5,basedamage:new pe(6,6),perlevel:new pe(0,0)},{name:"Magic Missile",level:1,basedamage:new pe(3,4),perlevel:new pe(1,4)},{name:"Magnify Gravity",level:1,basedamage:new pe(2,8),perlevel:new pe(1,8)},{name:"Maximilian's Earthen Grasp",level:2,basedamage:new pe(2,6),perlevel:new pe(0,0)},{name:"Melf's Acid Arrow",level:2,basedamage:new pe(4,4),perlevel:new pe(1,4)},{name:"Melf's Minute Meteors",level:3,basedamage:new pe(12,6),perlevel:new pe(4,6)},{name:"Mental Prison",level:6,basedamage:new pe(5,10),perlevel:new pe(0,0)},{name:"Mental Prison (Special)",level:6,basedamage:new pe(10,10),perlevel:new pe(0,0)},{name:"Meteor Swarm",level:9,basedamage:new pe(40,6),perlevel:new pe(0,0)},{name:"Mind Spike",level:2,basedamage:new pe(3,8),perlevel:new pe(1,8)},{name:"Moonbeam",level:2,basedamage:new pe(2,10),perlevel:new pe(1,10)},{name:"Mordenkainen's Faithful Hound",level:4,basedamage:new pe(4,8),perlevel:new pe(0,0)},{name:"Mordenkainen's Sword",level:7,basedamage:new pe(3,10),perlevel:new pe(0,0)},{name:"Negative Energy Flood",level:5,basedamage:new pe(5,12),perlevel:new pe(0,0)},{name:"Otiluke's Freezing Sphere",level:6,basedamage:new pe(10,6),perlevel:new pe(1,6)},{name:"Phantasmal Force",level:2,basedamage:new pe(1,6),perlevel:new pe(0,0)},{name:"Phantasmal Killer",level:4,basedamage:new pe(4,10),perlevel:new pe(1,10)},{name:"Prismatic Spray",level:7,basedamage:new pe(10,6),perlevel:new pe(0,0)},{name:"Prismatic Wall",level:9,basedamage:new pe(50,6),perlevel:new pe(0,0)},{name:"Psychic Scream",level:9,basedamage:new pe(14,6),perlevel:new pe(0,0)},{name:"Pulse Wave",level:3,basedamage:new pe(6,6),perlevel:new pe(1,6)},{name:"Ravenous Void",level:9,basedamage:new pe(5,10),perlevel:new pe(0,0)},{name:"Ray of Sickness",level:1,basedamage:new pe(2,8),perlevel:new pe(1,8)},{name:"Reality Break (1-2)",level:8,basedamage:new pe(6,12),perlevel:new pe(0,0)},{name:"Reality Break (3-5)",level:8,basedamage:new pe(8,12),perlevel:new pe(0,0)},{name:"Reality Break (6-8)",level:8,basedamage:new pe(10,12),perlevel:new pe(0,0)},{name:"Reality Break (9-10)",level:8,basedamage:new pe(10,12),perlevel:new pe(0,0)},{name:"Scorching Ray",level:2,basedamage:new pe(6,6),perlevel:new pe(2,6)},{name:"Searing Smite",level:1,basedamage:new pe(1,6),perlevel:new pe(1,6)},{name:"Shadow Blade",level:2,basedamage:new pe(2,8),perlevel:new pe(.5,8)},{name:"Shadow of Moil",level:4,basedamage:new pe(2,8),perlevel:new pe(0,0)},{name:"Shatter",level:2,basedamage:new pe(2,8),perlevel:new pe(1,8)},{name:"Sickening Radiance",level:4,basedamage:new pe(4,10),perlevel:new pe(0,0)},{name:"Snilloc's Snowball Swarm",level:2,basedamage:new pe(3,6),perlevel:new pe(1,6)},{name:"Spike Growth",level:2,basedamage:new pe(2,4),perlevel:new pe(0,0)},{name:"Spirit Guardians",level:3,basedamage:new pe(3,8),perlevel:new pe(1,8)},{name:"Spiritual Weapon",level:2,basedamage:new pe(1,8),perlevel:new pe(.5,8)},{name:"Staggering Smite",level:4,basedamage:new pe(4,6),perlevel:new pe(0,0)},{name:"Steel Wind Strike",level:5,basedamage:new pe(30,10),perlevel:new pe(0,0)},{name:"Storm Sphere",level:4,basedamage:new pe(2,6),perlevel:new pe(1,6)},{name:"Storm Sphere (Attack)",level:4,basedamage:new pe(4,6),perlevel:new pe(1,6)},{name:"Sunbeam",level:6,basedamage:new pe(6,8),perlevel:new pe(0,0)},{name:"Sunburst",level:8,basedamage:new pe(12,6),perlevel:new pe(0,0)},{name:"Symbol (Death)",level:7,basedamage:new pe(10,10),perlevel:new pe(0,0)},{name:"Synaptic Static",level:5,basedamage:new pe(8,6),perlevel:new pe(0,0)},{name:"Tasha's Caustic Brew",level:1,basedamage:new pe(2,4),perlevel:new pe(2,4)},{name:"Tasha's Mind Whip",level:2,basedamage:new pe(3,6),perlevel:new pe(3,6)},{name:"Tenser's Transformation",level:6,basedamage:new pe(2,12),perlevel:new pe(0,0)},{name:"Thunder Step",level:3,basedamage:new pe(3,10),perlevel:new pe(1,10)},{name:"Thunderous Smite",level:1,basedamage:new pe(2,6),perlevel:new pe(0,0)},{name:"Thunderwave",level:1,basedamage:new pe(2,8),perlevel:new pe(1,8)},{name:"Tidal Wave",level:3,basedamage:new pe(4,8),perlevel:new pe(0,0)},{name:"Time Ravage",level:9,basedamage:new pe(10,12),perlevel:new pe(0,0)},{name:"Transmute Rock",level:5,basedamage:new pe(4,8),perlevel:new pe(0,0)},{name:"Vampiric Touch",level:3,basedamage:new pe(3,6),perlevel:new pe(1,6)},{name:"Vitriolic Sphere",level:4,basedamage:new pe(10,4),perlevel:new pe(2,4)},{name:"Wall of Fire",level:4,basedamage:new pe(5,8),perlevel:new pe(1,8)},{name:"Wall of Ice",level:6,basedamage:new pe(10,6),perlevel:new pe(2,6)},{name:"Wall of Ice (Special)",level:6,basedamage:new pe(5,6),perlevel:new pe(1,6)},{name:"Wall of Light",level:5,basedamage:new pe(4,8),perlevel:new pe(1,8)},{name:"Wall of Thorns",level:6,basedamage:new pe(7,8),perlevel:new pe(1,8)},{name:"Web",level:2,basedamage:new pe(2,4),perlevel:new pe(0,0)},{name:"Weird",level:9,basedamage:new pe(4,10),perlevel:new pe(0,0)},{name:"Whirlwind",level:7,basedamage:new pe(10,6),perlevel:new pe(0,0)},{name:"Wind Wall",level:3,basedamage:new pe(3,8),perlevel:new pe(0,0)},{name:"Witch Bolt",level:1,basedamage:new pe(1,12),perlevel:new pe(1,12)},{name:"Wrath of Nature (Tree)",level:5,basedamage:new pe(4,6),perlevel:new pe(0,0)},{name:"Wrath of Nature (Rock)",level:5,basedamage:new pe(3,8),perlevel:new pe(0,0)},{name:"Wrathful Smite",level:1,basedamage:new pe(1,6),perlevel:new pe(0,0)},{name:"Zephyr Strike",level:1,basedamage:new pe(1,8),perlevel:new pe(0,0)}];function $e(e,t,n){const a=e.slice();return a[12]=t[n],a}function Fe(e,t,n){const a=e.slice();return a[12]=t[n],a}function je(t){let n,a,i,r=t[12].name+"";return{c(){n=g("option"),a=y(r),i=b(),n.__value=t[12],n.value=n.__value},m(e,t){f(e,n,t),p(n,a),p(n,i)},p:e,d(e){e&&v(n)}}}function Ie(t){let n,a,i,r=t[12].name+"";return{c(){n=g("option"),a=y(r),i=b(),n.__value=t[12],n.value=n.__value},m(e,t){f(e,n,t),p(n,a),p(n,i)},p:e,d(e){e&&v(n)}}}function ze(e){let t,n,a,i,o,s,l,u,c,d,h,y,w,k,C,O,S,P,M,N,D,L,E,_,$,F,j,z,W;function R(t){e[7].call(null,t)}let H={items:_e,labelFieldName:"name",onChange:e[6],showClear:e[0],hideArrow:e[0]};function V(t){e[8].call(null,t)}void 0!==e[0]&&(H.selectedItem=e[0]),l=new Ee({props:H}),I.push((()=>ae(l,"selectedItem",R)));let q={items:_e,labelFieldName:"name",onChange:e[6],showClear:e[1],hideArrow:e[1]};void 0!==e[1]&&(q.selectedItem=e[1]),y=new Ee({props:q}),I.push((()=>ae(y,"selectedItem",V)));let G=e[5],U=[];for(let t=0;t<G.length;t+=1)U[t]=je(Fe(e,G,t));let J=e[5],X=[];for(let t=0;t<J.length;t+=1)X[t]=Ie($e(e,J,t));return F=new be({props:{data:e[4],type:"bar"}}),{c(){t=g("div"),n=g("div"),a=g("b"),a.textContent="Select Spells to compare ",i=g("br"),o=b(),s=g("div"),ie(l.$$.fragment),c=g("br"),d=b(),h=g("div"),ie(y.$$.fragment),k=g("br"),C=b(),O=g("b"),O.textContent="Select damage types ",S=g("br"),P=b(),M=g("div"),N=g("select");for(let e=0;e<U.length;e+=1)U[e].c();D=b(),L=g("div"),E=g("select");for(let e=0;e<X.length;e+=1)X[e].c();_=b(),$=g("div"),ie(F.$$.fragment),A(s,"class","input-holder svelte-ecodu1"),A(h,"class","input-holder svelte-ecodu1"),void 0===e[2]&&B((()=>e[9].call(N))),A(M,"class","input-holder svelte-ecodu1"),void 0===e[3]&&B((()=>e[10].call(E))),A(L,"class","input-holder svelte-ecodu1"),A(n,"class","card svelte-ecodu1"),A($,"class","chart svelte-ecodu1"),A(t,"class","page svelte-ecodu1")},m(r,u){f(r,t,u),p(t,n),p(n,a),p(n,i),p(n,o),p(n,s),re(l,s,null),p(s,c),p(n,d),p(n,h),re(y,h,null),p(h,k),p(n,C),p(n,O),p(n,S),p(n,P),p(n,M),p(M,N);for(let e=0;e<U.length;e+=1)U[e].m(N,null);T(N,e[2]),p(n,D),p(n,L),p(L,E);for(let e=0;e<X.length;e+=1)X[e].m(E,null);T(E,e[3]),p(t,_),p(t,$),re(F,$,null),j=!0,z||(W=[x(N,"change",e[9]),x(N,"blur",e[6]),x(E,"change",e[10]),x(E,"blur",e[6])],z=!0)},p(e,[t]){const n={};1&t&&(n.showClear=e[0]),1&t&&(n.hideArrow=e[0]),!u&&1&t&&(u=!0,n.selectedItem=e[0],Y((()=>u=!1))),l.$set(n);const a={};if(2&t&&(a.showClear=e[1]),2&t&&(a.hideArrow=e[1]),!w&&2&t&&(w=!0,a.selectedItem=e[1],Y((()=>w=!1))),y.$set(a),32&t){let n;for(G=e[5],n=0;n<G.length;n+=1){const a=Fe(e,G,n);U[n]?U[n].p(a,t):(U[n]=je(a),U[n].c(),U[n].m(N,null))}for(;n<U.length;n+=1)U[n].d(1);U.length=G.length}if(36&t&&T(N,e[2]),32&t){let n;for(J=e[5],n=0;n<J.length;n+=1){const a=$e(e,J,n);X[n]?X[n].p(a,t):(X[n]=Ie(a),X[n].c(),X[n].m(E,null))}for(;n<X.length;n+=1)X[n].d(1);X.length=J.length}40&t&&T(E,e[3]);const i={};16&t&&(i.data=e[4]),F.$set(i)},i(e){j||(Q(l.$$.fragment,e),Q(y.$$.fragment,e),Q(F.$$.fragment,e),j=!0)},o(e){ee(l.$$.fragment,e),ee(y.$$.fragment,e),ee(F.$$.fragment,e),j=!1},d(e){e&&v(t),oe(l),oe(y),m(U,e),m(X,e),oe(F),z=!1,r(W)}}}function We(e,t,n){_e.sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0));let a,i,r,o=[{id:0,name:"Min"},{id:1,name:"Average"},{id:2,name:"Max"}],s=o[1],l=o[1];function u(){let e={labels:["Level 1","Level 2","Level 3","Level 4","Level 5","Level 6","Level 7","Level 8","Level 9"],datasets:[]};a?e.datasets.push(c(a,s.id)):e.datasets.push({name:"",values:[0,0,0,0,0,0,0,0,0]}),i?e.datasets.push(c(i,l.id)):e.datasets.push({name:"",values:[0,0,0,0,0,0,0,0,0]}),n(4,r=e)}function c(e,t){let n={name:e.name,values:[]};for(let a=0;a<9;a++){let i=0;a>=e.level-1&&(i=new pe(Math.floor(e.basedamage.getCount()+e.perlevel.getCount()*(a-e.level+1)),e.basedamage.getMax()).rollType(t)),n.values[a]=i}return n}return u(),[a,i,s,l,r,o,u,function(e){a=e,n(0,a)},function(e){i=e,n(1,i)},function(){s=P(this),n(2,s),n(5,o)},function(){l=P(this),n(3,l),n(5,o)}]}class Re extends ue{constructor(e){super(),le(this,e,We,ze,s,{})}}function He(e){const t=e-1;return t*t*t+1}function Be(e,{delay:t=0,duration:n=400,easing:a=He}){const i=getComputedStyle(e),r=+i.opacity,o=parseFloat(i.height),s=parseFloat(i.paddingTop),l=parseFloat(i.paddingBottom),u=parseFloat(i.marginTop),c=parseFloat(i.marginBottom),d=parseFloat(i.borderTopWidth),h=parseFloat(i.borderBottomWidth);return{delay:t,duration:n,easing:a,css:e=>`overflow: hidden;opacity: ${Math.min(20*e,1)*r};height: ${e*o}px;padding-top: ${e*s}px;padding-bottom: ${e*l}px;margin-top: ${e*u}px;margin-bottom: ${e*c}px;border-top-width: ${e*d}px;border-bottom-width: ${e*h}px;`}}function Ye(e,t,n){const a=e.slice();return a[12]=t[n],a[14]=n,a}function Ve(e){let t;return{c(){t=g("hr"),A(t,"class","svelte-1nqdzd3")},m(e,n){f(e,t,n)},d(e){e&&v(t)}}}function qe(e){let t,n,a,i,r,o,s,l,u,c,d,h,m,k,C,S=e[12].init+"",T=e[12].name+"";function P(){return e[11](e[14])}let M=e[14]<e[3].length-1&&Ve();return{c(){t=g("div"),n=g("div"),a=y(S),i=b(),r=g("div"),o=y(T),s=b(),l=g("div"),u=g("button"),u.innerHTML='<img src="https://icongr.am/feather/x.svg?size=12&amp;color=ff0000"/>',d=b(),M&&M.c(),h=w(),A(n,"class","col-1 svelte-1nqdzd3"),A(r,"class","col svelte-1nqdzd3"),A(u,"class","button clear icon-only pull-right"),A(l,"class","col-3 svelte-1nqdzd3"),A(t,"class","init-display row svelte-1nqdzd3")},m(e,c){f(e,t,c),p(t,n),p(n,a),p(t,i),p(t,r),p(r,o),p(t,s),p(t,l),p(l,u),f(e,d,c),M&&M.m(e,c),f(e,h,c),m=!0,k||(C=x(u,"click",P),k=!0)},p(t,n){e=t,(!m||8&n)&&S!==(S=e[12].init+"")&&O(a,S),(!m||8&n)&&T!==(T=e[12].name+"")&&O(o,T),e[14]<e[3].length-1?M||(M=Ve(),M.c(),M.m(h.parentNode,h)):M&&(M.d(1),M=null)},i(e){m||(e&&B((()=>{c||(c=ne(t,Be,{},!0)),c.run(1)})),m=!0)},o(e){e&&(c||(c=ne(t,Be,{},!1)),c.run(0)),m=!1},d(e){e&&v(t),e&&c&&c.end(),e&&v(d),M&&M.d(e),e&&v(h),k=!1,C()}}}function Ge(e){let t,n,a,i,o,s,l,u,c,d,h,y,w,O,T,P=e[3],M=[];for(let t=0;t<P.length;t+=1)M[t]=qe(Ye(e,P,t));const N=e=>ee(M[e],1,1,(()=>{M[e]=null}));return{c(){t=g("div"),n=g("div"),n.innerHTML="<b>Init Tracker</b>",a=b(),i=g("input"),o=b(),s=g("input"),l=b(),u=g("a"),u.textContent="Add ",c=g("br"),d=b(),h=g("a"),h.textContent="Clear",y=b();for(let e=0;e<M.length;e+=1)M[e].c();A(i,"placeholder","Name (Default: Enemy)"),A(i,"class","svelte-1nqdzd3"),A(s,"placeholder","Initiative (Default: 10)"),A(s,"type","number"),A(s,"class","svelte-1nqdzd3"),A(u,"class","button primary svelte-1nqdzd3"),A(h,"class","button svelte-1nqdzd3"),A(t,"class","card svelte-1nqdzd3")},m(r,v){f(r,t,v),p(t,n),p(t,a),p(t,i),e[8](i),S(i,e[1]),p(t,o),p(t,s),S(s,e[2]),p(t,l),p(t,u),p(t,c),p(t,d),p(t,h),p(t,y);for(let e=0;e<M.length;e+=1)M[e].m(t,null);w=!0,O||(T=[x(i,"input",e[9]),x(s,"input",e[10]),x(s,"keyup",k(e[5])),x(u,"click",e[4]),x(h,"click",e[7])],O=!0)},p(e,[n]){if(2&n&&i.value!==e[1]&&S(i,e[1]),4&n&&C(s.value)!==e[2]&&S(s,e[2]),72&n){let a;for(P=e[3],a=0;a<P.length;a+=1){const i=Ye(e,P,a);M[a]?(M[a].p(i,n),Q(M[a],1)):(M[a]=qe(i),M[a].c(),Q(M[a],1),M[a].m(t,null))}for(Z={r:0,c:[],p:Z},a=P.length;a<M.length;a+=1)N(a);Z.r||r(Z.c),Z=Z.p}},i(e){if(!w){for(let e=0;e<P.length;e+=1)Q(M[e]);w=!0}},o(e){M=M.filter(Boolean);for(let e=0;e<M.length;e+=1)ee(M[e]);w=!1},d(n){n&&v(t),e[8](null),m(M,n),O=!1,r(T)}}}function Ue(e,t,n){let a,i="",r="",o=[];function s(){r||n(2,r=10),i||n(1,i="Enemy");let e=o.filter((e=>e.name.includes(i)));e.length>0&&(1==e.length&&(e[0].name+=" 1"),n(1,i=i+" "+(e.length+1))),o.push({name:i,init:r}),o.sort(((e,t)=>e.init-t.init)),o.reverse(),n(3,o),n(2,r=""),n(1,i=""),a.focus()}function l(e){o.splice(e,1),n(3,o)}return[a,i,r,o,s,function(e){if("Enter"==e.code)return e.preventDefault(),s(),!1},l,function(){n(3,o=[])},function(e){I[e?"unshift":"push"]((()=>{a=e,n(0,a)}))},function(){i=this.value,n(1,i)},function(){r=C(this.value),n(2,r)},e=>l(e)]}class Je extends ue{constructor(e){super(),le(this,e,Ue,Ge,s,{})}}class Xe{constructor(e,t){this.max=t,this.count=e}roll(){let e=0;for(let t=0;t<this.count;t++)e+=Math.floor(Math.random()*this.max)+1;return e}avgRoll(){return(this.max+1)/2*this.count}minRoll(){return this.count}maxRoll(){return this.max*this.count}rollType(e){return 0==e?this.minRoll():2==e?this.maxRoll():this.avgRoll()}getCount(){return this.count}getMax(){return this.max}}function Ke(e,t,n){const a=e.slice();return a[19]=t[n],a}function Ze(e){let t,n,a,i,r=e[19].count+"",o=e[19].max+"";return{c(){t=g("span"),n=y(r),a=y("d"),i=y(o),A(t,"class","tag")},m(e,r){f(e,t,r),p(t,n),p(t,a),p(t,i)},p(e,t){1&t&&r!==(r=e[19].count+"")&&O(n,r),1&t&&o!==(o=e[19].max+"")&&O(i,o)},d(e){e&&v(t)}}}function Qe(e){let t;return{c(){t=g("br")},m(e,n){f(e,t,n)},d(e){e&&v(t)}}}function et(e){let t,n,a,i,r,o,s;return{c(){t=g("span"),n=g("b"),a=y(e[2]),i=y(" = "),r=y(e[1]),o=b(),s=g("br")},m(e,l){f(e,t,l),p(t,n),p(n,a),p(t,i),p(t,r),f(e,o,l),f(e,s,l)},p(e,t){4&t&&O(a,e[2]),2&t&&O(r,e[1])},d(e){e&&v(t),e&&v(o),e&&v(s)}}}function tt(t){let n,a,i,o,s,l,u,c,d,h,y,w,k,C,O,T,P,M,N,D,L,E,_,$,F,j,I,z,W,R,H,B,Y,V,q,G,U,J,X,K,Z,Q,ee=t[0],te=[];for(let e=0;e<ee.length;e+=1)te[e]=Ze(Ke(t,ee,e));let ne=t[0].length>0&&Qe(),ae=t[1].length>0&&et(t);return{c(){n=g("div"),a=g("div"),a.innerHTML="<b>Dice Roller</b>",i=b(),o=g("div"),s=g("div"),l=g("a"),l.textContent="1d2",u=b(),c=g("div"),d=g("a"),d.textContent="1d4",h=b(),y=g("div"),w=g("a"),w.textContent="1d6",k=b(),C=g("div"),O=g("a"),O.textContent="1d8",T=b(),P=g("div"),M=g("a"),M.textContent="1d10",N=b(),D=g("div"),L=g("a"),L.textContent="1d12",E=b(),_=g("div"),$=g("a"),$.textContent="1d20",F=b(),j=g("div"),I=g("a"),I.textContent="1d100",z=b(),W=g("div"),R=g("div"),H=g("input"),B=b(),Y=g("div"),V=g("a"),V.textContent="Roll",q=b(),G=g("div"),U=g("a"),U.textContent="Clear",J=b();for(let e=0;e<te.length;e+=1)te[e].c();X=b(),ne&&ne.c(),K=b(),ae&&ae.c(),A(l,"class","button svelte-wjhmcx"),A(s,"class","die-holder svelte-wjhmcx"),A(d,"class","button svelte-wjhmcx"),A(c,"class","die-holder svelte-wjhmcx"),A(w,"class","button svelte-wjhmcx"),A(y,"class","die-holder svelte-wjhmcx"),A(O,"class","button svelte-wjhmcx"),A(C,"class","die-holder svelte-wjhmcx"),A(M,"class","button svelte-wjhmcx"),A(P,"class","die-holder svelte-wjhmcx"),A(L,"class","button svelte-wjhmcx"),A(D,"class","die-holder svelte-wjhmcx"),A($,"class","button svelte-wjhmcx"),A(_,"class","die-holder svelte-wjhmcx"),A(I,"class","button svelte-wjhmcx"),A(j,"class","die-holder svelte-wjhmcx"),A(o,"class","mar-b flex svelte-wjhmcx"),A(H,"placeholder","Insert Custom Equation (Example: d20-2d6+2)"),A(R,"class","col"),A(V,"class","button is-full-width primary svelte-wjhmcx"),A(Y,"class","col-2"),A(U,"class","button is-full-width svelte-wjhmcx"),A(U,"error",""),A(G,"class","col-2"),A(W,"class","row"),A(n,"class","card svelte-wjhmcx")},m(e,r){f(e,n,r),p(n,a),p(n,i),p(n,o),p(o,s),p(s,l),p(o,u),p(o,c),p(c,d),p(o,h),p(o,y),p(y,w),p(o,k),p(o,C),p(C,O),p(o,T),p(o,P),p(P,M),p(o,N),p(o,D),p(D,L),p(o,E),p(o,_),p(_,$),p(o,F),p(o,j),p(j,I),p(n,z),p(n,W),p(W,R),p(R,H),S(H,t[3]),p(W,B),p(W,Y),p(Y,V),p(W,q),p(W,G),p(G,U),p(n,J);for(let e=0;e<te.length;e+=1)te[e].m(n,null);p(n,X),ne&&ne.m(n,null),p(n,K),ae&&ae.m(n,null),Z||(Q=[x(l,"click",t[6]),x(d,"click",t[7]),x(w,"click",t[8]),x(O,"click",t[9]),x(M,"click",t[10]),x(L,"click",t[11]),x($,"click",t[12]),x(I,"click",t[13]),x(H,"input",t[14]),x(V,"click",t[5]),x(U,"click",t[15])],Z=!0)},p(e,[t]){if(8&t&&H.value!==e[3]&&S(H,e[3]),1&t){let a;for(ee=e[0],a=0;a<ee.length;a+=1){const i=Ke(e,ee,a);te[a]?te[a].p(i,t):(te[a]=Ze(i),te[a].c(),te[a].m(n,X))}for(;a<te.length;a+=1)te[a].d(1);te.length=ee.length}e[0].length>0?ne||(ne=Qe(),ne.c(),ne.m(n,K)):ne&&(ne.d(1),ne=null),e[1].length>0?ae?ae.p(e,t):(ae=et(e),ae.c(),ae.m(n,null)):ae&&(ae.d(1),ae=null)},i:e,o:e,d(e){e&&v(n),m(te,e),ne&&ne.d(),ae&&ae.d(),Z=!1,r(Q)}}}function nt(e,t,n){let a,i,r=[],o="",s=0;function l(e,t){let a=r.find((e=>e.max==t));a?a.count+=e:r.push({max:t,count:e}),n(0,r),c(u,1500)}function u(){let e=[];for(let t of r){let n=new Xe(t.count,t.max);e.push(n.roll())}n(1,o=e.join(" + ")),n(2,s=e.reduce(((e,t)=>e+t))),n(0,r=[])}const c=(e,t)=>{clearTimeout(a),a=setTimeout((()=>{e()}),t||500)};return[r,o,s,i,l,function(){let e=i.replaceAll(" ","");if(e&&e.match(/^(\d+)?(d\d+)([\+\-](\d+|(\d+)?(d\d+)))*$/)){n(0,r=[]),clearTimeout(a);let t=e.split(/(\-|\+)/g),i=[];for(let e=0;e<t.length;e+=2){let n,a=t[e];if(a.includes("d")){let e=a.split("d");n=0==e[0].length?new Xe(1,parseInt(e[1])).roll():new Xe(parseInt(e[0]),parseInt(e[1])).roll()}else n=parseInt(a);e>0&&"-"==t[e-1]&&(n*=-1),i.push(n)}n(1,o=i.map((e=>e<0?(" "+e).replace("-","- "):" + "+e)).join("").substring(2)),n(2,s=i.reduce(((e,t)=>e+t)))}},()=>l(1,2),()=>l(1,4),()=>l(1,6),()=>l(1,8),()=>l(1,10),()=>l(1,12),()=>l(1,20),()=>l(1,100),function(){i=this.value,n(3,i)},()=>n(3,i="")]}class at extends ue{constructor(e){super(),le(this,e,nt,tt,s,{})}}function it(t){let n,a,i,r,o,s,l,u,c,d,h,m,y,w;return i=new Re({}),l=new Je({}),d=new he({}),y=new at({}),{c(){n=g("div"),a=g("div"),ie(i.$$.fragment),r=b(),o=g("div"),s=g("div"),ie(l.$$.fragment),u=b(),c=g("div"),ie(d.$$.fragment),h=b(),m=g("div"),ie(y.$$.fragment),A(a,"class","hide-xs hide-sm svelte-unuish"),A(s,"class","svelte-unuish"),A(c,"class","svelte-unuish"),A(m,"class","svelte-unuish"),A(o,"class","flex svelte-unuish"),A(n,"class","main svelte-unuish")},m(e,t){f(e,n,t),p(n,a),re(i,a,null),p(n,r),p(n,o),p(o,s),re(l,s,null),p(o,u),p(o,c),re(d,c,null),p(o,h),p(o,m),re(y,m,null),w=!0},p:e,i(e){w||(Q(i.$$.fragment,e),Q(l.$$.fragment,e),Q(d.$$.fragment,e),Q(y.$$.fragment,e),w=!0)},o(e){ee(i.$$.fragment,e),ee(l.$$.fragment,e),ee(d.$$.fragment,e),ee(y.$$.fragment,e),w=!1},d(e){e&&v(n),oe(i),oe(l),oe(d),oe(y)}}}return new class extends ue{constructor(e){super(),le(this,e,null,it,s,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
